#textdomain wesnoth-2
#define BASIC_ENERGY_STREAM BONUS
# level 1: 10-2 (apprentice mage, red vampire)
# level 2: 12-2 (white mage, lord vampire)
# level 3: 14-2 (mage of light, grand father)
# level 4: 16-2
     [effect]
	apply_to=new_attack
	name=spell_101
	description=_"energy stream"
        icon=attacks/energy-stream.png
        type=arcane
        range=ranged
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
        damage=8
        number=2
     [/effect]
     [effect]
	apply_to=attack
	name=spell_101
	increase_damage=2
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_101
	increase_damage={BONUS}
     [/effect]
#enddef
#define BASIC_FIREBALL BONUS
# level 1: 7-3 (red vampire, fugitive mage)
# level 2: 7-4 (red mage, lord vampire)
# level 3: 7-5 (sun mage, grand father)
# level 4: 7-6 (great mage)
     [effect]
	apply_to=new_attack
	name=spell_102
        description=_"fireball"
	icon=attacks/fireball.png
        type=fire
        range=ranged
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
        damage=7
        number=2
     [/effect]
     [effect]
	apply_to=attack
	name=spell_102
	increase_attacks=1
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_102
	increase_attacks={BONUS}
     [/effect]
#enddef
#define SUPERB_HUGE_FIREBALL BONUS
# level 1: 7-2 (red vampire)
# level 2: 14-2 (lord vampire)
# level 3: 21-2 (ogre mage, grand father)
# level 4: 28-2
     [effect]
	apply_to=new_attack
	name=spell_502
        description=_"huge fireball"
	icon=attacks/fireball.png
        type=impact
        range=ranged
        [specials]
	    {WEAPON_SPECIAL_INACCURATE}
	    {WEAPON_SPECIAL_IGNITION}
        [/specials]
        damage=7
        number=2
     [/effect]
     [effect]
	apply_to=attack
	name=spell_502
	increase_damage=7
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_502
	increase_damage=-7
     [/effect]
     [effect]
	apply_to=attack
	name=spell_502
	increase_damage={BONUS}
     [/effect]
#enddef
#define BASIC_WATERBALL BONUS
# level 1: 12-2 (red vampire, fugitive mage)
# level 2: 12-2, +10% (blue mage, lord vampire)
# level 3: 12-2, +20% (moon mage, grand father)
# level 4: 12-2, +30% (great mage)
     [effect]
	apply_to=new_attack
	name=spell_103
      	description=_"waterball"
	icon=attacks/iceball.png
        type=impact
        range=ranged
        [specials]
	    {WEAPON_SPECIAL_DISTRACTION}
        [/specials]
        damage=12
        number=2
	defense_weight=1.25
     [/effect]
     [effect]
	apply_to=attack
	name=spell_103
	increase_accuracy=10
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_103
	increase_accuracy=-10
     [/effect]
     [effect]
	apply_to=attack
	name=spell_103
	increase_accuracy={BONUS}
     [/effect]
#enddef
#define BASIC_CURE_AND_HEAL AMOUNT
# spell number 104     
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_CURE {AMOUNT}}
	 [/abilities]
     [/effect]
#enddef
#define BASIC_STORM_ARROWS DAMAGE SHOOTS TYPE
# on base of archer: 9-3 pierce (silver mage)
# on base of ice needles: 8-6 pierce (silver mage)
# on base of sniper: 11-4 pierce (sylph)
# on base of rocklobber: 12-2 impact (grand father) 
     [effect]
	apply_to=new_attack
        name=spell_105
        description=_"storm arrows"
        icon=attacks/storm-arrow.png
        type={TYPE}
        range=ranged
        [specials]
	    {WEAPON_SPECIAL_MAGICAL}
            {WEAPON_SPECIAL_FIRSTSHOOT}
            {WEAPON_SPECIAL_LONG_RANGE}
        [/specials]
        damage={DAMAGE}
        number={SHOOTS}
     [/effect]
     [effect]
	apply_to=attack
	name=spell_105
	increase_damage=4
     [/effect]
#enddef
#define BASIC_MORTAL_CURSE BONUS
# level 1: 15-1 (dark adept, red vampire)
# level 2: 20-1 (witch, lord vampire)
# level 3: 25-1 (sabbath queen, grand father)
# level 4: 30-1
     [effect]
	apply_to=new_attack
        name=spell_106
        description=_"mortal curse"
        icon=attacks/curse.png
        type=cold
        range=ranged
        [specials]
            {WEAPON_SPECIAL_MISTAKE}
        [/specials]
        damage=10
        number=1
     [/effect]
     [effect]
	apply_to=attack
	name=spell_106
	increase_damage=5
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_106
	increase_damage={BONUS}
     [/effect]
#enddef
#define BASIC_DARK_MARK BONUS
# level 1: 2-2 (junior sorcerer)
# level 2: 3-3 (high sorcerer)
# level 3: 4-4
# level 4: 5-5
     [effect]
	apply_to=new_attack
        name=spell_107
        description=_"mark of darkness"
        icon=attacks/dark-mark.png
        type=arcane
        range=melee
        damage=1
        number=1
	[specials]
            {WEAPON_SPECIAL_DARK_MARK}
        [/specials]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_107
	increase_damage=1
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_107
	increase_attacks=1
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_107
	increase_damage={BONUS}
     [/effect]
     [effect]
	apply_to=attack
	name=spell_107
	increase_attacks={BONUS}
     [/effect]
#enddef
#define BASIC_ENTANGLE BONUS
# level 1: 4-2 (junior sorcerer)
# level 2: 4-3 (high sorcerer)
# level 3: 4-4 (grand father)
# level 4: 4-5
     [effect]
	apply_to=new_attack
        name=spell_108
        description=_"entangle"
        icon=attacks/entangle.png
        type=impact
        range=ranged
        damage=4
        number=1
	[specials]
            {WEAPON_SPECIAL_SLOW}
        [/specials]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_108
	increase_attacks=1
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_108
	increase_attacks={BONUS}
     [/effect]
#enddef
#define BASIC_PLAGUED_BREATH BONUS
# level 1: 5-2 (junior sorcerer, red vampire)
# level 2: 5-3 (high sorcerer, lord vampire)
# level 3: 5-4 (grand father)
# level 4: 5-5
     [effect]
	apply_to=new_attack
        name=spell_109
        description=_"plagued breath"
        icon=attacks/miasm.png
        type=cold
        range=ranged
        damage=5
        number=1
	[specials]
	    {WEAPON_SPECIAL_POISON}
            {WEAPON_SPECIAL_PLAGUE_TYPE "Undead Zombie"}
        [/specials]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_109
	increase_attacks=1
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_109
	increase_attacks={BONUS}
     [/effect]
#enddef
#define BASIC_SI_YAH_KAN AMOUNT
# spell number 110
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_SI_YAH_KAN {AMOUNT}}
	 [/abilities]
     [/effect]
#enddef
#define BASIC_DEFACEMENT_CURSE
# spell number 111
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_CORRUPTION}
	 [/abilities]
     [/effect]
#enddef
#define BASIC_SHOCK_WAVE AMOUNT
#dead king's staff and grand father's improvisation: 10 points of damage
     [effect]
	apply_to=new_attack
        name=spell_112
        description=_"shock wave"
	icon=attacks/dark-missile.png
        type=impact
        range=ranged
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
	    {WEAPON_SPECIAL_MASS_DESTRUCTION}
        [/specials]
        damage={AMOUNT}
        number=1
     [/effect]
#enddef
#define BASIC_TOILS BONUS
# level 1: 5-1
# level 2: 5-2 (red vampire)
# level 3: 5-3 (lord vampire, grand father - not using)
# level 4: 5-4
     [effect]
	apply_to=new_attack
        name=spell_113
        description=_"toils"
        icon=attacks/web.png
        type=impact
        range=ranged
        damage=5
        number=0
	[specials]
            {WEAPON_SPECIAL_SLOW}
        [/specials]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_113
	increase_attacks=1
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_113
	increase_attacks={BONUS}
     [/effect]
#enddef
#define BASIC_CURE
# spell number 114
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_UNPOISON}
	 [/abilities]
     [/effect]
#enddef
#define BASIC_FLASH
# flash-imbued entangle is possible!!!
     [effect]
	apply_to=attack
	range=ranged
	[set_specials]
	   mode=append
	   {WEAPON_SPECIAL_FLASH}
	[/set_specials]
     [/effect]
     [effect]
	apply_to=attack
	range=ranged
	set_name=spell_115
     [/effect]
#enddef
#define BASIC_CREMATION
# spell number 116
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_CREMATION}
	 [/abilities]
     [/effect]
#enddef
#define BASIC_SMOKE_CLOUD
# level 1: 0-1 (shaman)
# level 2: 0-2 
# level 3: 0-3 (grand father - not using)
# level 4: 0-4
     [effect]
	apply_to=new_attack
        name=spell_117
        description=_"smoke cloud"
        type=fire
        range=ranged
        damage=0
        number=1
        icon=attacks/smoke.png
	[specials]
	     {WEAPON_SPECIAL_COUNTERSTRIKE}
             {WEAPON_SPECIAL_SMOKE}
        [/specials]
     [/effect]
#enddef
#define BASIC_ACID_SPRAY BONUS
# level 1: 5-3 (red vampire)
# level 2: 7-3 (spiritual varrior, lord vampire) 
# level 3: 9-3 (sage)
# level 4: 11-3
     [effect]
	apply_to=new_attack
	name=spell_118
        description=_"acid spray"
        type=arcane
        range=melee
        damage=3
        number=3
        icon=attacks/staff-green.png
	[specials]
	    {WEAPON_SPECIAL_FIRSTSTRIKE}
	    {WEAPON_SPECIAL_CONTACTLESS}
        [/specials]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_118
	increase_damage=2
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_118
	increase_damage={BONUS}
     [/effect]
#enddef
#define BASIC_HOLY_MARK
# spell number 119
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_HOLY_MARK}
	 [/abilities]
     [/effect]
#enddef
#define AVERAGE_FLAME_STREAM BONUS
# level 1: 6-2
# level 2: 11-2 (red mage) 
# level 3: 16-2 (sun mage)
# level 4: 21-2 (great mage)
     [effect]
	apply_to=new_attack
	name=spell_201
	description=_"stream of flame"
	type=fire
        [specials]
            {WEAPON_SPECIAL_FIRSTSHOOT}
            {WEAPON_SPECIAL_SWIFT}
        [/specials]
	range=ranged
	damage=1
        number=2
        icon=attacks/fire-blast.png
	defense_weight=1.5
     [/effect]
     [effect]
	apply_to=attack
	name=spell_201
	increase_damage=5
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_201
	increase_damage={BONUS}
     [/effect]
#enddef
#define AVERAGE_FLAME_BLADE BONUS
# level 1: 4-2
# level 2: 8-2 (red mage) 
# level 3: 12-2 (sun mage)
# level 4: 16-2 (great mage)
# level 5: 21-2 (great mage with just-taken spell)
     [effect]
        apply_to=remove_attacks
	name=staff
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_202
 	description=_"flaming blade"
        [specials]
	   {WEAPON_SPECIAL_CONTACTLESS}
        [/specials]
	type=fire
	range=melee
	damage=0
        number=2
        icon=attacks/sword-flaming.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_202
	increase_damage=4
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_202
	increase_damage={BONUS}
     [/effect]
#enddef
#define AVERAGE_WATER_SPRAY BONUSA BONUSB
# level 1: 10-2 (red vampire)
# level 2: 13-2, +10% (blue mage, lord vampire) 
# level 3: 16-2, +20% (moon mage, grand father, great mage with ninth wave)
# level 4: 19-2, +30% (great mage)
     [effect]
        apply_to=remove_attacks
	name=spell_103
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_203
        description=_"water spray"
	type=impact
        [specials]
	   {WEAPON_SPECIAL_DISTRACTION}
        [/specials]
	range=ranged
	damage=7
        number=2
        icon=attacks/waterspray.png
	defense_weight=1.25
     [/effect]
     [effect]
	apply_to=attack
	name=spell_203
	increase_accuracy=10
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_203
	increase_accuracy=-10
     [/effect]
     [effect]
	apply_to=attack
	name=spell_203
	increase_accuracy={BONUSA}
     [/effect]
     [effect]
	apply_to=attack
	name=spell_203
	increase_damage=3
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_203
	increase_damage={BONUSB}
     [/effect]
#enddef
#define AVERAGE_HEAT_AURA
# spell number 204
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_HEAT_AURA}
	 [/abilities]
     [/effect]
#enddef
#define AVERAGE_FIRE_MINES
# spell number 205
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_FIRE_MINES}
	 [/abilities]
     [/effect]
#enddef
#define AVERAGE_ICE_PIKE BONUS
# level 1: 10-0
# level 2: 10-1 (blue mage) 
# level 3: 10-2 (moon mage)
# level 4: 10-3 (great mage)
# level 5: 10-4 (great mage with just-taken spell)
     [effect]
        apply_to=remove_attacks
	name=staff
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_206
	description=_"ice pike"
	type=pierce
	range=melee
 	damage=10
        number=0
        icon=attacks/ice-pike.png
        [specials]
           {WEAPON_SPECIAL_FIRSTSTRIKE}
        [/specials]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_206
	increase_attacks=1
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_206
	increase_attacks=-1
     [/effect]
     [effect]
	apply_to=attack
	name=spell_206
	increase_attacks={BONUS}
     [/effect]
#enddef
#define AVERAGE_ICE_NEEDLES BONUS
# level 1: 4-6
# level 2: 4-9 (blue mage) 
# level 3: 4-12 (moon mage, grand father)
# level 4: 4-16 (great mage)
     [effect]
	apply_to=new_attack
	name=spell_207
	description=_"ice needles"
	type=pierce
        [specials]
            {WEAPON_SPECIAL_SWIFT}
	    {WEAPON_SPECIAL_SWARM}
        [/specials]
	range=ranged
	damage=4
        number=3
        icon=attacks/ice-needles.png
	defense_weight=0.5
     [/effect]
     [effect]
	apply_to=attack
	name=spell_207
	increase_attacks=3
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_207
	increase_attacks={BONUS}
     [/effect]
#enddef
#define AVERAGE_RAIN_AURA
# spell number 208
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_RAIN_AURA}
	 [/abilities]
     [/effect]
#enddef
#define AVERAGE_LIGHTBEAM BONUS
# level 1: 5-3
# level 2: 8-3 (white mage, shadow mage)
# level 3: 11-3 (mage of light, grand father, balance mage)
# level 4: 14-3
     [effect]
        apply_to=remove_attacks
	name=spell_101
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_209
	description=_"lightbeam"
	type=arcane
        [specials]
            {WEAPON_SPECIAL_ABSOLUTE}
	    {WEAPON_SPECIAL_LIGHT_MAGIC}
        [/specials]
	range=ranged
	damage=2
        number=3
        icon=attacks/lightbeam.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_209
	increase_damage=3
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_209
	increase_damage={BONUS}
     [/effect]
#enddef
#define AVERAGE_PURIFICATION BONUS
# level 1: 5-3
# level 2: 7-3 (white mage) 
# level 3: 9-3 (mage of light)
# level 4: 11-3
     [effect]
	apply_to=new_attack
	name=spell_210
	description=_"purification"
 	type=arcane
        [specials]
           {WEAPON_SPECIAL_ANTIUNDEAD}
	   {WEAPON_SPECIAL_LIGHT_MAGIC}
	   {WEAPON_SPECIAL_CONTACTLESS}
        [/specials]
	range=melee
	damage=3
        number=3
        icon=attacks/white-hand.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_210
	increase_damage=2
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_210
	increase_damage={BONUS}
     [/effect]
#enddef
#define AVERAGE_CUTTING_WIND BONUS
# level 1: 6-2
# level 2: 8-2 
# level 3: 10-2 (silver mage, grand father)
# level 4: 12-2 (shamshira)
     [effect]
	apply_to=new_attack
	name=spell_211
        description=_"cutting wind"
        icon=attacks/storm.png
        type=blade
        range=ranged
        damage=4
        number=2
        [specials]
 	    {WEAPON_SPECIAL_FIRSTSHOOT}
            {WEAPON_SPECIAL_MAGICAL}
 	    {WEAPON_SPECIAL_GASH}
        [/specials]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_211
	increase_damage=2
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_211
	increase_damage={BONUS}
     [/effect]
#enddef
#define AVERAGE_AIRCUTTER BONUS
# level 1: 6-3
# level 2: 8-3 
# level 3: 10-3 (silver mage, grand father)
# level 4: 12-3
     [effect]
	apply_to=remove_attacks
	name=spell_202, spell_206
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_212
        description=_"aircutter"
        icon=attacks/storm.png
        type=blade
        range=melee
        damage=4
        number=3
        [specials]
 	    {WEAPON_SPECIAL_FIRSTSTRIKE}
            {WEAPON_SPECIAL_MAGICAL}
 	    {WEAPON_SPECIAL_GASH}
        [/specials]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_212
	increase_damage=2
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_212
	increase_damage={BONUS}
     [/effect]
#enddef
#define AVERAGE_SHADOW_WAVE BONUS
# level 1: 10-2 (junior sorcerer, red vampire)
# level 2: 14-2 (black mage, shadow mage, high sorcerer, lord vampire)
# level 3: 18-2 (dark mage, balance mage, lich, grand father)
# level 4: 22-2 (dark lord)
     [effect]
	apply_to=new_attack
        name=spell_213
        description=_"shadow wave"
	icon=attacks/dark-missile.png
        type=arcane
        range=ranged
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
	    {WEAPON_SPECIAL_DARK_MAGIC}
        [/specials]
        damage=6
        number=2
     [/effect]
     [effect]
	apply_to=attack
	name=spell_213
	increase_damage=4
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_213
	increase_damage={BONUS}
     [/effect]
#enddef
#define AVERAGE_DARK_MARK_COMBINED
# spell number 214
     [effect]
	apply_to=attack
	range=melee
	[set_specials]
	    mode=append
	    {WEAPON_SPECIAL_DARK_MARK}
	[/set_specials]
     [/effect]  
#enddef
#define AVERAGE_MAGIC_FETTERS_COMBINED
# spell number 215; grand father using that along with throwing rocks
     [effect]
	apply_to=attack
	range=ranged
	[set_specials]
	    mode=append
	    {WEAPON_SPECIAL_MAGIC_FETTERS}
	[/set_specials]
     [/effect]  
     [effect]
	apply_to=attack
	range=ranged
	set_name=spell_215
     [/effect]
#enddef
#define AVERAGE_ANCIENT_POWER
# spell number 216
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_ANCIENT_POWER}
	 [/abilities]
     [/effect]
#enddef
#define AVERAGE_SLEEEPING_GAS BONUS
# level 1: 5-2 (junior sorcerer)
# level 2: 5-3 (high sorcerer)
# level 3: 5-4 (lich, grand father)
# level 4: 5-5 (dark lord)
     [effect]
	apply_to=new_attack
        name=spell_217
        description=_"sleeping gas"
        icon=attacks/sleeping-gas.png
        type=cold
        range=ranged
        damage=5
        number=1
	[specials]
	    {WEAPON_SPECIAL_SOMNIFIC}
        [/specials]
	defense_weight=2.0
     [/effect]
     [effect]
	apply_to=attack
	name=spell_217
	increase_attacks=1
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_217
	increase_attacks={BONUS}
     [/effect]
#enddef
#define AVERAGE_SHADOW BONUS
# level 1: 4-3
# level 2: 5-3 (black mage)
# level 3: 6-3 (dark mage)
# level 4: 7-3
     [effect]
	apply_to=new_attack
	name=spell_218
	description=_"shadow"
	type=blade
        [specials]
            {WEAPON_SPECIAL_SNEAKY_BLOW}
            {WEAPON_SPECIAL_SAFE}
            {WEAPON_SPECIAL_PREPARATION}
        [/specials]
	range=melee
	damage=3
        number=3
        icon=attacks/shadow.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_218
	increase_damage=1
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_218
	increase_damage={BONUS}
     [/effect]
#enddef
#define AVERAGE_FLAME_MISSILES BONUS
# level 1: 5-5 (fugitive mage, red vampire)
# level 2: 7-5 (witch, lord vampire)
# level 3: 9-5 (sabbath queen, grand father)
# level 4: 11-5
     [effect]
	apply_to=new_attack
	name=spell_219
	description=_"flame missiles"
	type=fire
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
            {WEAPON_SPECIAL_SWARM}
        [/specials]
	range=ranged
	damage=3
        number=5
        icon=attacks/flame-missiles.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_219
	increase_damage=2
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_219
	increase_damage={BONUS}
     [/effect]
#enddef
#define AVERAGE_CHILL_WAVE BONUS
# level 1: 5-3 (fugitive mage, red vampire)
# level 2: 8-3 (witch, lord vampire)
# level 3: 11-3 (sabbath queen, grand father)
# level 4: 14-3
     [effect]
	apply_to=new_attack
	name=spell_220
	description=_"chill wave"
	type=cold
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
	range=ranged
	damage=2
        number=3
        icon=attacks/iceball.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_220
	increase_damage=3
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_220
	increase_damage={BONUS}
     [/effect]
#enddef
#define AVERAGE_CHILL_WAVE_MELEE BONUS
# level 1: 5-2 (red vampire)
# level 2: 8-2 (lord vampire)
# level 3: 11-2 (sabbath queen)
# level 4: 14-2
     [effect]
	apply_to=new_attack
	name=spell_221
	description=_"chill wave"
	type=cold
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
	    {WEAPON_SPECIAL_CONTACTLESS}
        [/specials]
	range=melee
	damage=2
        number=2
        icon=attacks/iceball.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_221
	increase_damage=3
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_221
	increase_damage={BONUS}
     [/effect]
#enddef
#define AVERAGE_RITUAL_MURDER BONUS
# level 1: 15-1 (red vampire)
# level 2: 20-1 (witch, lord vampire)
# level 3: 25-1 (sabbath queen, grand father)
# level 4: 30-1
     [effect]
	apply_to=new_attack
        name=spell_222
        description=_"mortal curse"
        icon=attacks/curse.png
        type=cold
        range=ranged
        [specials]
            {WEAPON_SPECIAL_MISTAKE}
            {WEAPON_SPECIAL_RITUAL_MURDER}
        [/specials]
        damage=10
        number=1
     [/effect]
     [effect]
	apply_to=attack
	name=spell_222
	increase_damage=5
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_222
	increase_damage={BONUS}
     [/effect]
#enddef
#define AVERAGE_TURNSKIN BONUSA BONUSB
# level 1: 8-2, 6-2
# level 2: 12-2 (witch), 6-3 (witcher)
# level 3: 16-2 (sabbath queen), 6-4 (high witcher)
# level 4: 20-2, 6-5
     [effect]
	[filter]
	   gender=female
	[/filter]
	apply_to=new_attack
        name=spell_223
        description=_"turn into snake"
        icon=attacks/fangs-snake.png
        type=blade
        range=melee
        [specials]
            {WEAPON_SPECIAL_POISON}
            {WEAPON_SPECIAL_FIRSTSTRIKE}
            {WEAPON_SPECIAL_SNAKE_AGILITY}
        [/specials]
        damage=4
        number=2
	defense_weight=1.5
     [/effect]
     [effect]
	[filter]
	   gender=female
	[/filter]
	apply_to=attack
	name=spell_223
	increase_damage=4
	times=per level
     [/effect]
     [effect]
	[filter]
	   gender=female
	[/filter]
	apply_to=attack
	name=spell_223
	increase_damage={BONUSA}
     [/effect]
     [effect]
	[filter]
	    gender=male
	[/filter]
	apply_to=new_attack
        name=spell_223
        description=_"turn into wolf"
        icon=attacks/claws-animal.png
        type=blade
        range=melee
        [specials]
            {WEAPON_SPECIAL_WOLF_SKIN}
        [/specials]
        damage=6
        number=1
	defense_weight=3.0
     [/effect]
     [effect]
	[filter]
	    gender=male
	[/filter]
	apply_to=attack
	name=spell_223
	increase_attacks=1
	times=per level
     [/effect]
     [effect]
	[filter]
	    gender=male
	[/filter]
	apply_to=attack
	name=spell_223
	increase_attacks={BONUSB}
     [/effect]
#enddef
#define AVERAGE_LIGHTBALL BONUS
# level 1: 8-2
# level 2: 12-2 (shadow mage)
# level 3: 16-2 (balance mage)
# level 4: 20-2 
     [effect]
	apply_to=new_attack
	name=spell_224
	description=_"lightball"
	type=arcane
        [specials]
            {WEAPON_SPECIAL_FLASH}
            {WEAPON_SPECIAL_LIGHT_MAGIC}
            {WEAPON_SPECIAL_CONTACTLESS}
        [/specials]
	range=melee
	damage=4
        number=2
        icon=attacks/faerie-fire.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_224
	increase_damage=4
	times=per level
     [/effect]   
     [effect]
	apply_to=attack
	name=spell_224
	increase_damage={BONUS}
     [/effect]
#enddef
#define AVERAGE_STORM_OF_BLADES BONUS
# level 1: 4-5
# level 2: 6-5 (shadow mage)
# level 3: 8-5 (balance mage, grand father)
# level 4: 10-5 
     [effect]
	apply_to=new_attack
	name=spell_225
        description=_"storm of blades"
	icon=attacks/daggers-thrown.png
        type=blade
        range=ranged
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
            {WEAPON_SPECIAL_DARK_SWARM}
        [/specials]
        damage=2
        number=5
     [/effect]
     [effect]
	apply_to=attack
	name=spell_225
	increase_damage=2
	times=per level
     [/effect]    
     [effect]
	apply_to=attack
	name=spell_225
	increase_damage={BONUS}
     [/effect]
#enddef
#define AVERAGE_POWER_STEALING
# spell number 226
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_POWER_STEALING}
	 [/abilities]
     [/effect]
#enddef
#define AVERAGE_VAMPIRIC_CURSE AMOUNT
# lord vampire and grand father: 10-1 damage
     [effect]
	apply_to=new_attack
        name=spell_227
        description=_"vampiric curse"
        icon=attacks/life-drain.png
        type=cold
        range=ranged
        damage={AMOUNT}
        number=1
        [specials]
	    {WEAPON_SPECIAL_BLOOD_FOR_BLOOD}
	    {WEAPON_SPECIAL_MAGICAL}
        [/specials]
     [/effect]
#enddef
#define AVERAGE_VOODOO_CURSE BONUS
# level 1: 9-1
# level 2: 9-2 (elder shaman)
# level 3: 9-3 (tribe elder, grand father)
# level 4: 9-4 
     [effect]
        apply_to=remove_attacks
	name=staff
     [/effect]
     [effect]
	apply_to=new_attack
        name=spell_228
        description=_"curse of voodoo"
        icon=attacks/curse.png
        type=cold
        range=ranged
        [specials]
            {WEAPON_SPECIAL_DRAIN}
            {WEAPON_SPECIAL_VOODOO_MAGIC}
        [/specials]
        damage=9
        number=0
     [/effect]
     [effect]
	apply_to=attack
	name=spell_228
	increase_attacks=1
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_228
	increase_attacks={BONUS}
     [/effect]
#enddef
#define AVERAGE_SEPTICEMIA
#spell number 229
     [effect]
        apply_to=attacks
	type=arcane
	[set_specials]
	    mode=append
            {WEAPON_SPECIAL_SEPTICEMIA}
	 [/set_specials]
     [/effect]
#enddef
#define AVERAGE_ACID_SMOKE AMOUNT
#spiritual warrior, sage and grand father: 10 damage
     [effect]
	apply_to=new_attack
        name=spell_230
        description=_"acid smoke"
        type=arcane
        range=ranged
        damage={AMOUNT}
        number=1
        icon=attacks/miasm.png
	[specials]
            {WEAPON_SPECIAL_SMOKE}
            {WEAPON_SPECIAL_MISTAKE}
        [/specials]
     [/effect]
#enddef
#define AVERAGE_BOWL_OF_SNAKE_POISON
# spell number 231 
     [effect]
	apply_to=remove_ability
	[abilities]
	    {ABILITY_UNPOISON}
	[/abilities] 
     [/effect]
     [effect]
	apply_to=new_ability
	[abilities]
	    {ABILITY_BOWL_OF_SNAKE_POISON}
	[/abilities] 
     [/effect]
#enddef
#define AVERAGE_AGILITY_OF_SNAKE
# spell number 232
     [effect]
	apply_to=attack
	range=melee
        [set_specials]
           mode=append
           {WEAPON_SPECIAL_SNAKE_AGILITY}
        [/set_specials]
    [/effect]
#enddef
#define AVERAGE_DISPELLING_STORM
# spell number 233
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_DISPELLING_STORM}
	 [/abilities]
     [/effect] 
     [effect]
	 apply_to=attack
	 [set_specials]
	    mode=append
	    {WEAPON_SPECIAL_DISPELLING_STORM}
	 [/set_specials]
     [/effect]
#enddef
#define AVERAGE_HELLFIRE BONUS
# level 1: 20-1
# level 2: 30-1
# level 3: 40-1
# level 4: 50-1 (shamshira) 
     [effect]
        apply_to=remove_attacks
	name=staff
     [/effect]
     [effect]
	apply_to=new_attack
        name=spell_234
        description=_"hell fire"
        icon=attacks/flame-tomb.png
        type=fire
        range=ranged
        damage=10
        number=1
     [/effect]
     [effect]
	apply_to=attack
	name=spell_234
	increase_damage=10
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_234
	increase_attacks={BONUS}
     [/effect]
#enddef
#define AVERAGE_AVALANCE BONUS
# level 1: 10-2
# level 2: 13-2
# level 3: 16-2 (grand father, gargoyle)
# level 4: 19-2
     [effect]
	apply_to=new_attack
	name=spell_235
	description=_"avalanche"
        icon=attacks/avalanche.png
        type=cold
        range=ranged
        [specials]
            {WEAPON_SPECIAL_SLOW}
        [/specials]
        damage=7
        number=2
     [/effect]
     [effect]
	apply_to=attack
	name=spell_235
	increase_damage=3
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_235
	increase_damage={BONUS}
     [/effect]
#enddef
#define HIGH_DRAGON_FLAME BONUS
# level 1: 6-2
# level 2: 11-2
# level 3: 16-2 (sun mage)
# level 4: 21-2 (great mage)
     [effect]
        apply_to=remove_attacks
	name=spell_201
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_301
	description=_"dragon flame"
	type=fire
        [specials]
            {WEAPON_SPECIAL_FIRSTSHOOT}
            {WEAPON_SPECIAL_SWIFT}
            {WEAPON_SPECIAL_IGNITION}
        [/specials]
	range=ranged
	damage=1
        number=2
	defense_weight=1.5
     [/effect]
     [effect]
	apply_to=attack
	name=spell_301
	increase_damage=5
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_301
	increase_damage={BONUS}
     [/effect]
#enddef
#define HIGH_LIGHTNING BONUS
# level 1: 12-1 (red vampire)
# level 2: 12-2 (silver mage, lord vampire) 
# level 3: 12-3 (sun mage, thundertalker, grand father)
# level 4: 12-4 (great mage)
     [effect]
        apply_to=remove_attacks
	name=spell_102
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_302
	description=_"lightning"
	type=electrical
        [specials]
	   {WEAPON_SPECIAL_ABSOLUTE}
	   {WEAPON_SPECIAL_ELECTRICAL}
        [/specials]
	range=ranged
	damage=12
        number=0
        icon=attacks/lightning.png
	attack_weight=2.0
	defense_weight=2.0
     [/effect]
     [effect]
	apply_to=attack
	name=spell_302
	increase_attacks=1
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_302
	increase_attacks={BONUS}
     [/effect]
#enddef
#define HIGH_FLAME_TOMB BONUS
# level 1: 18-1, -25%
# level 2: 18-1, -10% 
# level 3: 18-1, +5% (sun mage, grand father)
# level 4: 18-1, +20% (great mage)
     [effect]
	apply_to=new_attack
	name=spell_303
	description=_"flaming tomb"
 	type=fire
        [specials]
            {WEAPON_SPECIAL_LETHAL}
        [/specials]
	range=ranged
	damage=18
        number=1
	attack_weight=2.0
        icon=attacks/flame-tomb.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_303
	increase_accuracy=15
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_303
	increase_accuracy=-40
     [/effect]  
     [effect]
	apply_to=attack
	name=spell_303
	increase_accuracy={BONUS}
     [/effect]
#enddef
#define HIGH_ICEHAMMER BONUSA BONUSB
# level 1: 8-0, 0-2
# level 2: 8-1, 4-2 
# level 3: 8-2, 8-2 (moon mage)
# level 4: 8-3, 12-2 (great mage)
     [effect]
        apply_to=remove_attacks
	name=staff
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_304
	description=_"ice hammer"
	type=impact
        [specials]
            {WEAPON_SPECIAL_DISTRACTION}
        [/specials]
	range=melee
	damage=8
        number=0
        icon=attacks/ice-hammer.png
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_304
	description=_"ice hammer"
	type=cold
        [specials]
            {WEAPON_SPECIAL_SLOW}
        [/specials]
	range=melee
	damage=0
        number=2
        icon=attacks/ice-hammer.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_304
	type=impact
	increase_attacks=1
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_304
	type=impact
	increase_attacks=-1
     [/effect]
     [effect]
	apply_to=attack
	name=spell_304
	type=impact
	increase_attacks={BONUSA}
     [/effect]
     [effect]
	apply_to=attack
	name=spell_304
	type=cold
	increase_damage=4
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_304
	type=cold
	increase_damage=-4
     [/effect]
     [effect]
	apply_to=attack
	name=spell_304
	type=cold
	increase_damage={BONUSB}
     [/effect] 
#enddef
#define HIGH_GREAT_DESTRUCTION BONUS
# level 1: 11-1
# level 2: 20-1
# level 3: 29-1 (moon mage, grand father - not using)
# level 4: 8-3, 12-2 (great mage)
     [effect]
	apply_to=new_attack
	name=spell_305
	description=_"great destruction"
	type=impact
        [specials]
	   {WEAPON_SPECIAL_LETHAL}
	   {WEAPON_SPECIAL_POWER_OF_DEEP}
        [/specials]
	range=ranged
	damage=2
        number=1
        icon=attacks/great-destruction.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_305
	increase_damage=9
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_305
	increase_accuracy={BONUS}
     [/effect]
#enddef
#define HIGH_WATERWALKING
# spell number 306
     [effect]
	 apply_to=new_ability
	 [abilities]
	  {ABILITY_WATERWALKING}
	 [/abilities]
     [/effect]
#enddef
#define HIGH_MAGICAL_SHIELD
# spell number 307
     [effect]
	 apply_to=new_ability
	 [abilities]
	  {ABILITY_MAGICAL_SHIELD}
	 [/abilities]
     [/effect]
#enddef
#define HIGH_AURA_OF_LIGHT
# spell number 308
     [effect]
	 apply_to=new_ability
	 [abilities]
	  {ABILITY_AURA_OF_LIGHT}
	 [/abilities]
     [/effect]
#enddef
#define HIGH_SUNLIGHT BONUS
# level 1: 6-3
# level 2: 9-3 (white mage) 
# level 3: 12-3 (mage of light, grand father, balance mage)
# level 4: 15-3
     [effect]
        apply_to=remove_attacks
	name=spell_209
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_309
	description=_"sunlight"
	type=arcane
        [specials]
            {WEAPON_SPECIAL_ABSOLUTE}
            {WEAPON_SPECIAL_FLASH}
	    {WEAPON_SPECIAL_LIGHT_MAGIC}
        [/specials]
	range=ranged
	damage=3
        number=3
        icon=attacks/sunlight.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_309
	increase_damage=3
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_309
	increase_damage={BONUS}
     [/effect]
#enddef

#define HIGH_TELEPORTATION
#spell number 310
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_TELEPORTATION}
	 [/abilities]
     [/effect]
#enddef
#define HIGH_INTERDIMENSIONAL_STREAM_OF_FLAME BONUS
# level 1: 6-1
# level 2: 11-1 
# level 3: 16-1 (silver mage, grand father)
# level 4: 21-1
     [effect]
	apply_to=new_attack
	name=spell_311
	description=_"stream of flame"
	type=fire
        [specials]
            {WEAPON_SPECIAL_SAFE}
            {WEAPON_SPECIAL_SURE}
        [/specials]
	range=ranged
	damage=1
        number=1
        icon=attacks/fire-blast.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_311
	increase_damage=5
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_311
	increase_damage={BONUS}
     [/effect]
#enddef
#define HIGH_INTERDIMENSIONAL_FIREBALL
# 7-1 (silver mage, grand father)
     [effect]
	apply_to=new_attack
	name=spell_312
        description=_"fireball"
	icon=attacks/fireball.png
        type=fire
        range=ranged
        [specials]
            {WEAPON_SPECIAL_SAFE}
            {WEAPON_SPECIAL_SURE}
        [/specials]
        damage=7
        number=1
     [/effect]
#enddef
#define HIGH_INTERDIMENSIONAL_WATERBALL
# 12-1 (silver mage, grand father)
     [effect]
	apply_to=new_attack
	name=spell_313
        description=_"waterball"
	icon=attacks/iceball.png
        type=impact
        range=ranged
        [specials]
            {WEAPON_SPECIAL_SAFE}
            {WEAPON_SPECIAL_SURE}
        [/specials]
        damage=12
        number=1
     [/effect]
#enddef

#define HIGH_INTERDIMENSIONAL_WATER_SPRAY BONUS
# level 1: 10-1
# level 2: 13-1
# level 3: 16-1 (silver mage, grand father)
# level 4: 19-1
     [effect]
	apply_to=new_attack
	name=spell_314
        description=_"water spray"
	type=impact
        [specials]
            {WEAPON_SPECIAL_SAFE}
            {WEAPON_SPECIAL_SURE}
        [/specials]
	range=ranged
	damage=7
        number=1
        icon=attacks/waterspray.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_314
	increase_damage=3
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_314
	increase_damage={BONUS}
     [/effect]
#enddef

#define HIGH_SECRET_SANDSTORM BONUS
# level 1: 6-3
# level 2: 9-3 (white mage) 
# level 3: 12-3 (mage of light, grand father, balance mage)
# level 4: 15-3
     [effect]
	apply_to=new_attack
	name=spell_315
	description=_"sand storm"
	type=blade
        [specials]
	    {WEAPON_SPECIAL_ABSOLUTE}
	    {WEAPON_SPECIAL_SAFE}
	    {WEAPON_SPECIAL_MASS_DISTRACTION}
        [/specials]
	range=ranged
	damage=4
        number=1
        icon=attacks/sand-storm.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_315
	increase_damage=2
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_315
	increase_damage={BONUS}
     [/effect]
#enddef
#define HIGH_DARKNESS_COVER
# spell number 316
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_DARKNESS_COVER}
	 [/abilities]
     [/effect]
#enddef
#define HIGH_NECROMANCY
# spell number 317
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_NECROMANCY}
	 [/abilities]
     [/effect]
#enddef
#define HIGH_SHADOW_DANCE BONUS
# level 1: 4-3
# level 2: 5-3 
# level 3: 6-3 (dark mage)
# level 4: 7-3
     [effect]
        apply_to=remove_attacks
	name=spell_218
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_318
	description=_"shadow dance" 
	type=blade
        [specials]
            {WEAPON_SPECIAL_ALWAYS_BACKSTAB}
            {WEAPON_SPECIAL_SAFE}
            {WEAPON_SPECIAL_PREPARATION}
        [/specials]
	range=melee
	damage=3
        number=3
        icon=attacks/shadow-dance.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_318
	increase_damage=1
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_318
	increase_damage={BONUS}
     [/effect]
#enddef
#define HIGH_SMOKE_MISSILES BONUS
# level 1: 5-5 (red vampire)
# level 2: 7-5 (lord vampire)
# level 3: 9-5 (sabbath queen, grand father)
# level 4: 11-5
     [effect]
        apply_to=remove_attacks
	name=spell_219
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_319
	description=_"smoke missiles"
	type=fire
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
            {WEAPON_SPECIAL_SWARM}
            {WEAPON_SPECIAL_DISTRACTION}
        [/specials]
	range=melee
	damage=3
        number=5
        icon=attacks/flame-missiles.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_319
	increase_damage=2
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=smoke missiles
	increase_damage={BONUS}
     [/effect]
#enddef
#define HIGH_DREADFUL_WARRIOR BONUS
# level 1: 10-2
# level 2: 14-2 
# level 3: 18-2 (dark mage)
# level 4: 22-2
     [effect]
        apply_to=remove_attacks
	name=spell_213
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_320
	description=_"dreadful warrior" 
	type=arcane
        [specials]
            {WEAPON_SPECIAL_ILLUSION}
            {WEAPON_SPECIAL_ABSOLUTE}
        [/specials]
	range=ranged
	damage=6
        number=2
        icon=attacks/shadow.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_320
	increase_damage=4
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_320
	increase_damage={BONUS}
     [/effect]
#enddef
#define HIGH_FLAME_WHIP BONUS
# level 1: 5-3
# level 2: 10-3
# level 3: 15-3 (sabbath queen)
# level 4: 20-3
     [effect]
	apply_to=new_attack
	name=spell_321
	description=_"flaming whip"
	type=fire
        [specials]
            {WEAPON_SPECIAL_INACCURATE}
        [/specials]
	range=melee
	damage=0
        number=3
        icon=attacks/flame-whip.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_321
	increase_damage=5
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_321
	increase_damage={BONUS}
     [/effect]
#enddef
#define HIGH_RITUAL_MURDER
# spell number 322
    [effect]
	apply_to=attack
	name=spell_222
	remove_specials=ritual murder
    [/effect]
    [effect]
	apply_to=attack
	name=spell_222
	[set_specials]
	    mode=append
            {WEAPON_SPECIAL_RITUAL_MURDER2}
	[/set_specials]
    [/effect]
#enddef
#define HIGH_INSTANT_MORTAL_CURSE BONUS
# level 1: 16-1 (red vampire)
# level 2: 24-1 (lord vampire)
# level 3: 32-1 (sabbath queen, grand father - not using)
# level 4: 40-1
     [effect]
	apply_to=new_attack
	name=spell_323
        description=_"instant mortal curse"
        icon=attacks/mortal-curse.png
        type=cold
        range=ranged
        [specials]
	    {WEAPON_SPECIAL_PREPARATION}
	    {WEAPON_SPECIAL_ABSOLUTE}
	    {WEAPON_SPECIAL_RANDOM_TYPE}
        [/specials]
        damage=8
        number=1
     [/effect]
     [effect]
	apply_to=attack
	name=spell_323
	increase_damage=8
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_323
	increase_damage={BONUS}
     [/effect]
#enddef
#define HIGH_BURNING_LIGHT BONUS
# level 1: 4-2
# level 2: 8-2
# level 3: 12-2 (balance mage)
# level 4: 16-2 
     [effect]
        apply_to=remove_attacks
	name=spell_224
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_324
	description=_"burning light"
	type=arcane
        [specials]
            {WEAPON_SPECIAL_FLASH}
            {WEAPON_SPECIAL_LIGHT_MAGIC}
            {WEAPON_SPECIAL_CONTACTLESS}
            {WEAPON_SPECIAL_SUN_HEAT}
        [/specials]
	range=melee
	damage=0
        number=2
        icon=attacks/sun-heat.png
        attack_weight=2.0
        defense_weight=2.0
     [/effect]
     [effect]
	apply_to=attack
	name=spell_324
	increase_damage=4
	times=per level
     [/effect]   
     [effect]
	apply_to=attack
	name=spell_324
	increase_damage={BONUS}
     [/effect]
#enddef
#define HIGH_SHARDS_OF_DARKNESS BONUS
# level 1: 3-6
# level 2: 5-6
# level 3: 7-6 (balance mage, grand father)
# level 4: 9-6 
     [effect]
        apply_to=remove_attacks
	name=spell_225
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_325
        description=_"shards of darkness"
	icon=attacks/dark-shards.png
        type=blade
        range=ranged
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
            {WEAPON_SPECIAL_GASH}
            {WEAPON_SPECIAL_DARK_SWARM}
        [/specials]
        damage=1
        number=6
     [/effect]
     [effect]
	apply_to=attack
	name=spell_325
	increase_damage=2
	times=per level
     [/effect]    
     [effect]
	apply_to=attack
	name=spell_325
	increase_damage={BONUS}
     [/effect]
#enddef
#define HIGH_BALANCE_CIRCLE
# spell number 326
     [effect]
	apply_to=attack
	[set_specials]
	    mode=append
            {WEAPON_SPECIAL_BALANCE_CIRCLE}
	[/set_specials]
     [/effect]
#enddef
#define HIGH_SHADOW_STEP
# spell number 327
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_SHADOW_STEP}
	 [/abilities]
     [/effect]
     [effect]
	apply_to=movement
	set=1
     [/effect] 
     [effect]
	apply_to=movement_costs
	replace=yes
	[movement_costs]
            shallow_water=1
            reef=1
            swamp_water=1
            flat=1
            sand=1
            forest=1
            hills=1
            mountains=1
            village=1
            castle=1
            cave=1
            frozen=1
            fungus=1
        [/movement_costs]	  
     [/effect]
#enddef

#define HIGH_ICE_LUMP BONUS
# level 1: 6-1
# level 2: 12-1
# level 3: 18-1 (sabbath queen, grand father)
# level 4: 24-1
     [effect]
	apply_to=new_attack
	name=spell_328
	description=_"ice lump"
	type=impact
        [specials]
            {WEAPON_SPECIAL_ICE_STRIKE}
        [/specials]
	range=ranged
	damage=0
        number=1
        icon=attacks/ice-lump.png
	attack_weight=2.0
	defense_weight=2.0
     [/effect]
     [effect]
	apply_to=attack
	name=spell_328
	increase_damage=6
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_328
	increase_damage={BONUS}
     [/effect]
#enddef
#define HIGH_TURNBIRD BONUSA BONUSB
# level 1: 3-2
# level 2: 6-2
# level 3: 9-2 (sabbath queen)
# level 4: 12-2
     [effect]
	[filter]
	    gender=female
	[/filter]
	apply_to=new_attack
        name=spell_329
        description=_"turn into bat"
        icon=attacks/fangs-animal.png
        type=blade
        range=melee
        [specials]
            {WEAPON_SPECIAL_DRAIN}
        [/specials]
        damage=0
        number=2
     [/effect]
     [effect]
	[filter]
	    gender=female
	[/filter]
	apply_to=attack
	name=spell_329
	increase_damage=3
	times=per level
     [/effect]
     [effect]
	[filter]
	    gender=female
	[/filter]
	apply_to=attack
	name=spell_329
	increase_damage={BONUSA}
     [/effect]
     [effect]
	[filter]
	   gender=male
	[/filter]
	apply_to=new_attack
        name=spell_329
        description=_"turn into vulture"
        icon=attacks/beak.png
        type=impact
        range=melee
        [specials]
            {WEAPON_SPECIAL_SCAVENGER}
        [/specials]
        damage=0
        number=2
     [/effect]
     [effect]
	[filter]
	   gender=male
	[/filter]
	apply_to=attack
	name=spell_329
	increase_damage=3
	times=per level
     [/effect]
     [effect]
	[filter]
	   gender=male
	[/filter]
	apply_to=attack
	name=spell_329
	increase_attacks={BONUSB}
     [/effect]
     [effect]
	apply_to=movement_costs
	replace=yes
	[movement_costs]
            shallow_water=1
            reef=1
            swamp_water=1
            flat=1
            sand=1
            forest=1
            hills=1
            mountains=1
            village=1
            castle=1
            cave=1
            frozen=1
            fungus=1
        [/movement_costs]	  
     [/effect]
#enddef
#define HIGH_ACID_CLOUD AMOUNT
#spiritual warrior, sage and grand father: 10 damage
     [effect]
        apply_to=remove_attacks
	name=spell_230
     [/effect]
     [effect]
	apply_to=new_attack
        name=spell_330
        description=_"acid cloud"
        type=arcane
        range=ranged
        damage={AMOUNT}
        number=1
        icon=attacks/acid.png
	[specials]
            {WEAPON_SPECIAL_BIG_MISTAKE}
            {WEAPON_SPECIAL_SMOKE}
        [/specials]
     [/effect]
#enddef
#define HIGH_SHADOW_DEMOLISHER BONUS
# level 1: 8-3
# level 2: 11-3
# level 3: 14-3 (lich, balance mage, grand father)
# level 4: 17-3 (dark lord)
     [effect]
        apply_to=remove_attacks
	name=spell_213
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_331
        description=_"shadow demolisher"
        icon=attacks/shadow-demolisher.png
        type=electrical
        range=ranged
        damage=5
        number=3
	[specials]
            {WEAPON_SPECIAL_MAGICAL}
            {WEAPON_SPECIAL_ELECTRICAL}
	    {WEAPON_SPECIAL_DARK_MAGIC}
        [/specials]
	attack_weight=2.0
	defense_weight=2.0
     [/effect]
     [effect]
	apply_to=attack
	name=spell_331
	increase_damage=3
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_331
	increase_damage={BONUS}
     [/effect]
#enddef
#define HIGH_DEATH_GRIP BONUS
# level 1: 8-1
# level 2: 11-1
# level 3: 14-1 (lich)
# level 4: 17-1 (dark lord)
     [effect]
        name=spell_332
	apply_to=new_attack
        description=_"death grip"
        icon=attacks/dark-hand.png
        type=arcane
        range=melee
        damage=5
        number=1
	defense_weight=2.0
	[specials]
           {WEAPON_SPECIAL_ABSOLUTE_DEFENSE}
           {WEAPON_SPECIAL_SLOW}
           {WEAPON_SPECIAL_SUFFOCATION}
	   {WEAPON_SPECIAL_CONTACTLESS}
        [/specials]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_332
	increase_damage=3
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_332
	increase_damage={BONUS}
     [/effect]
#enddef
#define HIGH_DEATH_BREATH BONUS
# level 1: 3-3
# level 2: 5-3
# level 3: 7-3 (lich, grand father)
# level 4: 9-3 (dark lord)
     [effect]
        apply_to=remove_attacks
	name=spell_109
     [/effect]
     [effect]
	apply_to=new_attack
        name=spell_333
        description=_"death breath"
        icon=attacks/death-breath.png
        type=cold
        range=ranged
        damage=1
        number=3
	[specials]
	   {WEAPON_SPECIAL_ABSOLUTE}
	   {WEAPON_SPECIAL_POISON}
           {WEAPON_SPECIAL_PLAGUE_TYPE "Undead Zombie"}
        [/specials]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_333
	increase_damage=2
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_333
	increase_attacks={BONUS}
     [/effect]
#enddef
#define HIGH_LIFE_TAKING_CURSE BONUS
# level 1: 1-0
# level 2: 10-1
# level 3: 20-1 (lich, grand father)
# level 4: 30-1 (dark lord)
     [effect]
	apply_to=new_attack
        name=spell_334
        description=_"life-taking curse"
        type=cold
        range=ranged
        damage=0
        number=1
	defense_weight=2.0
	[specials]
	    {WEAPON_SPECIAL_DRAIN}
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
        icon=attacks/life-drain.png
     [/effect]
     [effect]
	apply_to=attack
  	name=spell_334
	increase_damage=10
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_334
	increase_damage=-10
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_334
	increase_attacks={BONUS}
     [/effect]
#enddef
#define HIGH_SUMMON_SNAKES BONUS
# level 1: 4-4
# level 2: 4-8
# level 3: 4-12 (sage, grand father - not using)
# level 4: 4-16
     [effect]
	apply_to=new_attack
	name=spell_335
	description=_"summon snakes"
	type=blade
        [specials]
            {WEAPON_SPECIAL_SWARM}
            {WEAPON_SPECIAL_POISON}
            {WEAPON_SPECIAL_SAFE}
            {WEAPON_SPECIAL_PREPARATION}
        [/specials]
	range=ranged
	damage=4
        number=0
        icon=attacks/snakes.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_335
	increase_attacks=4
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_335
	increase_attacks={BONUS}
	times=per level
     [/effect]
#enddef
#define HIGH_BLOOD_COLLECTION BONUS
# level 1: 4-4
# level 2: 4-8 (red vampire)
# level 3: 4-12 (lord vampire, grand father - not using)
# level 4: 4-16
     [effect]
	apply_to=new_attack
	name=spell_336
	description=_"blood collection"
	type=blade
        [specials]
            {WEAPON_SPECIAL_SWARM}
            {WEAPON_SPECIAL_DRAIN}
            {WEAPON_SPECIAL_SAFE}
            {WEAPON_SPECIAL_PREPARATION}
        [/specials]
	range=ranged
	damage=4
        number=0
        icon=attacks/bats.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_336
	increase_attacks=4
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_336
	increase_attacks={BONUS}
	times=per level
     [/effect]
#enddef

#define HIGH_NEHUSHTAN
# spell number 337
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_NEHUSHTAN}
	 [/abilities]
     [/effect]
#enddef
#define HIGH_CATSKIN BONUSA BONUSB
# level 1: 7-2, 9-3
# level 2: 10-2, 12-3
# level 3: 13-2 (sabbath queen), 15-3 (high witcher)
# level 4: 16-2, 18-3
     [effect]
	[filter]
	    gender=female
	[/filter]
	apply_to=new_attack
        name=spell_338
        description=_"turn into panther"
        icon=attacks/panther.png
        type=impact
        range=melee
        [specials]
            {WEAPON_SPECIAL_SNEAKY_BLOW}
            {WEAPON_SPECIAL_LETHAL}
        [/specials]
        damage=4
        number=2
     [/effect]
     [effect]
	[filter]
	    gender=female
	[/filter]
	apply_to=attack
	name=spell_338
	increase_damage=3
	times=per level
     [/effect]
     [effect]
	[filter]
	    gender=female
	[/filter]
	apply_to=attack
	name=spell_338
	increase_damage={BONUSA}
     [/effect]
     [effect]
	[filter]
	    gender=male
	[/filter]
	apply_to=new_attack
        name=spell_338
        description=_"turn into lion"
        icon=attacks/lion.png
        type=impact
        range=melee
        [specials]
            {WEAPON_SPECIAL_RUSH}
            {WEAPON_SPECIAL_HEAVY}
        [/specials]
        damage=6
        number=3
     [/effect]
     [effect]
	[filter]
	    gender=male
	[/filter]
	apply_to=attack
	name=spell_338
	increase_damage=3
	times=per level
     [/effect]
     [effect]
	[filter]
	    gender=male
	[/filter]
	apply_to=attack
	name=spell_338
  	increase_attacks={BONUSB}
     [/effect]
#enddef
#define HIGH_DELIRIUM_TREMENS BONUS
# level 1: 4-2 (red vampire)
# level 2: 8-2 (lord vampire)
# level 3: 12-2 (young shaman, grand father)
# level 4: 16-2
     [effect]
	apply_to=new_attack
        name=spell_339
        description=_"delirium tremens"
        icon=attacks/delirium-tremens.png
        type=cold
        range=ranged
        [specials]
            {WEAPON_SPECIAL_ADVANCED_DISTRACTION}
	    {WEAPON_SPECIAL_MISTAKE}
	    {WEAPON_SPECIAL_DRAIN_LIFE}
        [/specials]
        damage=0
        number=2
     [/effect]
     [effect]
	apply_to=attack
	name=spell_339
	increase_damage=4
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_339
	increase_attacks={BONUS}
     [/effect]
#enddef
#define HIGH_BLIZZARD BONUS
# level 1: 6-0
# level 2: 6-2 
# level 3: 6-4
# level 4: 6-6 (shamshira)
     [effect]
        name=spell_340
	apply_to=new_attack
        description=_"blizzard"
        icon=attacks/ice-needles.png
        type=cold
        range=ranged
        damage=6
        number=0
	[specials]
           {WEAPON_SPECIAL_SLOW}
        [/specials]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_340
	increase_attacks=2
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_340
	increase_attacks=-2
     [/effect]
     [effect]
	apply_to=attack
	name=spell_340
	increase_attacks={BONUS}
     [/effect]
#enddef
#define HIGH_EARTHQUAKE BONUS
# level 1: 1-1
# level 2: 9-1 
# level 3: 17-1
# level 4: 25-1 (shamshira)
     [effect]
        name=spell_341
        description=_"earthquake"
        icon=attacks/mud-glob.png
        type=impact
        range=ranged
        damage=0
        number=1
	[specials]
 	    {WEAPON_SPECIAL_ABSOLUTE}
            {WEAPON_SPECIAL_ADVANCED_DISTRACTION}
        [/specials]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_341
	increase_damage=8
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_341
	increase_damage=-7
     [/effect]
     [effect]
	apply_to=attack
	name=spell_341
	increase_damage={BONUS}
     [/effect]
#enddef
#define SET_SILVER_MAGE
     [effect]
	apply_to=attack
	name=spell_203, spell_201
	set_attacks=1
	[set_specials]
	   {WEAPON_SPECIAL_SAFE}
	   {WEAPON_SPECIAL_SURE}
	[/set_specials]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_201
	set_name=spell_311
     [/effect]
     [effect]
	apply_to=attack
	name=spell_203
	set_name=spell_314
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_312
        description=_"fireball"
	icon=attacks/fireball.png
        type=fire
        range=ranged
        [specials]
            {WEAPON_SPECIAL_SAFE}
            {WEAPON_SPECIAL_SURE}
        [/specials]
        damage=7
        number=1
	[filter]
	   has_weapon=spell_202
	   [or]
		ability=fire mines
	   	[or]
		     ability=heat_aura1
	   	[/or]
	   [/or]
	[/filter]
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_313
        description=_"waterball"
	icon=attacks/iceball.png
        type=impact
        range=ranged
        [specials]
            {WEAPON_SPECIAL_SAFE}
            {WEAPON_SPECIAL_SURE}
        [/specials]
        damage=12
        number=1
	[filter]
	   has_weapon=spell_206
	   [or]
		has_weapon=spell_207
	   	[or]
		     ability=rain_aura1
	   	[/or]
	   [/or]
	[/filter]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_207
	increase_attacks=-50%
	increase_damage=100%
	[set_specials]
	    {WEAPON_SPECIAL_SWARM}
            {WEAPON_SPECIAL_SWIFT}
	    {WEAPON_SPECIAL_MAGICAL}
            {WEAPON_SPECIAL_FIRSTSHOOT}
            {WEAPON_SPECIAL_LONG_RANGE}
	[/set_specials]
     [/effect]
     [effect]
	apply_to=remove_attacks
	name=spell_105
	[filter]
	   has_weapon=spell_207
	[/filter]
      [/effect]
     [effect]
	apply_to=attack
	name=spell_207
	set_name=spell_105
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_212
        description=_"aircutter"
        icon=attacks/storm.png
        type=blade
        range=melee
        damage=4
        number=3
        [specials]
 	  {WEAPON_SPECIAL_FIRSTSTRIKE}
          {WEAPON_SPECIAL_MAGICAL}
 	  {WEAPON_SPECIAL_GASH}
	  {WEAPON_SPECIAL_CONTACTLESS}
        [/specials]
	[filter]
	   has_weapon=spell_206
	   [or]
		 has_weapon=spell_202
	   [/or]
	[/filter]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_212
	increase_damage=2
	times=per level
	[filter]
	   has_weapon=spell_206
	   [or]
		has_weapon=spell_202
	   [/or]
	[/filter]
     [/effect]
     [effect]
	 apply_to=remove_attacks
	 name=spell_202, spell_206
      [/effect]
#enddef
#define SET_SEER
    [effect]
        apply_to=remove_attacks
        special=magical
        [or]
    	    special=light magic
    	    [or]
    	  	special=dark magic
	  	[or]
    		    special=flash
    	  	    [or]
    	  	  	special=mistake
	                [or]
    	  	  	    special=dark mark
	                    [or]
    	  	   	        special=electrical
			    [/or]
			[/or]
		    [/or]
		[/or]
	    [/or]
	[/or]
    [/effect]
    [effect]
        apply_to=remove_ability
	[abilities]
           {ABILITY_CURE 10}
    	   {FLAG_MAGE}
    	[/abilities]
    [/effect]
    [effect]
	apply_to=attack
	range=melee
	[set_specials]
	   {WEAPON_SPECIAL_SEER}
	[/set_specials]
    [/effect] 
#enddef
#define SET_INQUISITOR
     [effect]
	apply_to=remove_attacks
	name=spell_101, spell_209, spell_210
     [/effect]
#enddef
#define SET_BALANCE_MAGE
     [effect]
	apply_to=attack
	name=spell_213
	increase_damage=-4
     [/effect]   
     [effect]
	apply_to=attack
	name=spell_213
	increase_attacks=1
     [/effect]  
     [effect]
	apply_to=attack
	name=spell_213
	[set_specials]
	    mode=append
	    {WEAPON_SPECIAL_ELECTRICAL}
	[/set_specials]
     [/effect] 
     [effect]
	apply_to=attack
	name=spell_213
	set_icon=attacks/shadow-demolisher.png
     [/effect] 
     [effect]
	apply_to=attack
	name=spell_213
	set_description=_"shadow demolisher"
     [/effect] 
     [effect]
	apply_to=attack
	name=spell_213
	set_name=spell_331
     [/effect] 
     [effect]
	apply_to=attack
	name=spell_209
	increase_damage=1
     [/effect]   
     [effect]
	apply_to=attack
	name=spell_209
	[set_specials]
	    mode=append
	    {WEAPON_SPECIAL_FLASH}
	[/set_specials]
     [/effect] 
     [effect]
	apply_to=attack
	name=spell_209
	set_icon=attacks/sunlight.png
     [/effect] 
     [effect]
	apply_to=attack
	name=spell_209
	set_description=_"sunlight"
     [/effect] 
     [effect]
	apply_to=attack
	name=spell_209
	set_name=spell_309
     [/effect]  
     [effect]
	apply_to=attack
	name=spell_224
	increase_damage=-4
     [/effect]   
     [effect]
	apply_to=attack
	name=spell_224
	[set_specials]
	    mode=append
	    {WEAPON_SPECIAL_SUN_HEAT}
	[/set_specials]
     [/effect] 
     [effect]
	apply_to=attack
	name=spell_224
	attack_weight=2.0
     [/effect]
     [effect]
	apply_to=attack
	name=spell_224
	defense_weight=2.0
     [/effect]
     [effect]
	apply_to=attack
	name=spell_224
	set_description=_"burning light"
     [/effect]
     [effect]
	apply_to=attack
	name=spell_224
	set_icon=attacks/sun-heat.png
     [/effect]     
     [effect]
	apply_to=attack
	name=spell_224
	set_icon=spell_324
     [/effect] 
     [effect]
	apply_to=attack
	name=spell_225
	increase_damage=-1
     [/effect]   
     [effect]
	apply_to=attack
	name=spell_225
	increase_attacks=1
     [/effect]  
     [effect]
	apply_to=attack
	name=spell_225
	[set_specials]
	    mode=append
	    {WEAPON_SPECIAL_GASH}
	[/set_specials]
     [/effect] 
     [effect]
	apply_to=attack
	name=spell_225
	set_icon=attacks/dark-shards.png
     [/effect]
     [effect]
	apply_to=attack
	name=spell_225
	set_description=_"shards of darkness"
     [/effect]
     [effect]
	apply_to=attack
	name=spell_225
	set_name=spell_325
     [/effect]
#enddef
#define ULTIMATE_DISINTEGRATION
# level 1-3: kills, loses that spell and 1 strike of each attacks forever (sabbath queen)
# level 4: kills, loses that spell until the end of scenario (great mage)
     [effect]
	apply_to=new_attack
	name=spell_401
	description=_"disintegration"
	type=arcane
        [specials]
	    {WEAPON_SPECIAL_PREPARATION}
            {WEAPON_SPECIAL_FULL_DEMOLITION}
	    {WEAPON_SPECIAL_CONTACTLESS}
        [/specials]
	range=melee
	damage=1
        number=1
        icon=attacks/disintegration.png
     [/effect]
#enddef
#define ULTIMATE_TEMPEST BONUSA BONUSB
# level 1: 4-2, 12-1
# level 2: 8-2, 12-2
# level 3: 12-2, 12-3 (grand father - not using)
# level 4: 16-2, 12-4
# level 5: 20-2, 12-4 (great mage)
     [effect]
        apply_to=remove_attacks
	name=spell_202
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_402
	description=_"lightning blade"
	type=electrical
        [specials]
	    {WEAPON_SPECIAL_ELECTRICAL}
        [/specials]
	range=melee
	damage=0
        number=2
        icon=attacks/sword-lightning.png
	attack_weight=2.0
	defense_weight=2.0
     [/effect]
     [effect]
	apply_to=attack
	name=spell_402
	range=melee
	increase_damage=4
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	range=melee
	name=spell_402
	increase_damage={BONUSA}
     [/effect]
     [effect]
	apply_to=new_attack
        name=spell_402
        description=_"tempest"
	icon=attacks/lightning.png
        type=electrical
        range=ranged
        [specials]
	   {WEAPON_SPECIAL_PREPARATION}
	   {WEAPON_SPECIAL_SCUD}
	   {WEAPON_SPECIAL_ELECTRICAL}
	   {WEAPON_SPECIAL_NATURE_WRATH}
        [/specials]
        damage=12
        number=0
	attack_weight=2.0
	defense_weight=2.0
     [/effect]
     [effect]
	apply_to=attack
	name=spell_402
	range=ranged
	increase_attacks=1
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_402
	range=ranged
	increase_attacks={BONUSB}
     [/effect]
#enddef

#define ULTIMATE_NINTHWAVE
# spell number 403
# level 1: 7-2, -10%
# level 1: 10-2
# level 1: 13-2, +10% (grand father - not using)
# level 4: 16-2, +20% (great mage)
     [effect]
	apply_to=attack
	name=spell_203
	[set_specials]
	    mode=append
	    {WEAPON_SPECIAL_CUMULATIVE}
	[/set_specials]
     [/effect] 
     [effect]
	apply_to=attack
	name=spell_203
	increase_accuracy=-10
     [/effect]
     [effect]
	apply_to=attack
	name=spell_203
	increase_damage=3
     [/effect] 
     [effect]
	apply_to=attack
	name=spell_203
	attack_weight=3.0
     [/effect]
     [effect]
	apply_to=attack
	name=spell_203
	defense_weight=3.0
     [/effect]
#enddef
#define ULTIMATE_WHITE_CASTLE
# spell number 404
# level 1-3: damages everyone and himself
# level 4: not damages himself, 100% cold resistance (great mage)
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_WHITE_CASTLE}
	 [/abilities]
     [/effect]
     [effect]
	 apply_to=resistance
	 [resistance]
	    cold=0
	 [/resistance]
	 [filter]
	    [not]
	  	level=0-3
	    [/not]
	 [/filter]
     [/effect]
#enddef
#define ULTIMATE_NIBS_OF_PHOENIX
# level 1-3: damages everyone and himself (grand father - not using)
# level 4: not damages himself (great mage)
     [effect]
	apply_to=new_attack
	name=spell_405
	description=_"nibs of phoenix"
	type=fire
        [specials]
	    {WEAPON_SPECIAL_PREPARATION}
            {WEAPON_SPECIAL_ABSOLUTE}
            {WEAPON_SPECIAL_MASS_DESTRUCTION}
        [/specials]
	range=ranged
	damage=21
        number=1
        icon=attacks/phoenix.png
    [/effect]  
#enddef
#define ULTIMATE_WORLD_OF_SHADOWS
# level 1-3: inflicts damage and calls 1 shadow (grand father - not using)
# level 4: inflicts damage and calls shadows (great mage)
     [effect]
	apply_to=attack
        name=spell_406
        description=_"world of shadows"
        icon=attacks/shadow-world.png
        type=arcane
        range=melee
        damage=15
        number=1
	defense_weight=10.0
	[specials]
	    {WEAPON_SPECIAL_COUNTERSTRIKE}
            {WEAPON_SPECIAL_ABSOLUTE_DEFENSE}
            {WEAPON_SPECIAL_SHADOWS_RECALL}
	    {WEAPON_SPECIAL_RESOLUTE_REBUFF}
	    {WEAPON_SPECIAL_CONTACTLESS}
        [/specials]
    [/effect]  
#enddef
#define ULTIMATE_STONE_TOMB
     [effect]
	apply_to=attack
        name=spell_407
        description=_"stone tomb"
        icon=attacks/stone-tomb.png
        type=impact
        range=ranged
        damage=20
        number=1
	attack_weight=10.0
	defense_weight=0.5
	[specials]
            {WEAPON_SPECIAL_COUP_DE_GRACE}
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
    [/effect]  
#enddef
#define ULTIMATE_FACE_OF_FATE
     [effect]
	apply_to=attack
        name=spell_408
        description=_"face of fate"
        icon=attacks/mortal-curse.png
        type=blade
        range=melee
        damage=10
        number=4
	attack_weight=0.25
	defense_weight=0.1
	[specials]
            {WEAPON_SPECIAL_FATEFUL}
	    {WEAPON_SPECIAL_CURSE_OF_UNDEAD}
        [/specials]
    [/effect]  
#enddef
#define ULTIMATE_MOONWEEL BONUS
# level 1-3: attacks everyone and itself (grand father - not using)
# level 4: attacks everyone and can fly, so doesn't damage itself 
# level 5: spear +1 strike (great mage)
     [effect]
        apply_to=remove_attacks
	name=spell_206
     [/effect]
     [effect]
	apply_to=new_attack
	name=spell_409
	description=_"moon spear"
	type=pierce
	range=melee
 	damage=10
        number=0
        icon=attacks/moons-spear.png
        [specials]
           {WEAPON_SPECIAL_SKY_PIERCING}
        [/specials]
     [/effect]
     [effect]
	apply_to=attack
	name=spell_409
	range=melee
	increase_attacks=1
	times=per level
     [/effect]
     [effect]
	apply_to=attack
	name=spell_409
	range=melee
	increase_attacks=-1
     [/effect]
     [effect]
	apply_to=attack
	name=spell_409
	range=melee
	increase_attacks={BONUS}
     [/effect]
     [effect]
	apply_to=new_attack
        name=spell_409
        description=_"moonwell"
	icon=attacks/moonwell.png
        type=impact
        range=ranged
        [specials]
	    {WEAPON_SPECIAL_MOONLIGHT}
	    {WEAPON_SPECIAL_GRAVITATION_COLLAPSE}
        [/specials]
        damage=25
        number=1
     [/effect]
     [effect]
	apply_to=movement_costs
	replace=yes
	[movement_costs]
            shallow_water=1
            reef=1
            swamp_water=1
            flat=1
            sand=1
            forest=1
            hills=1
            mountains=1
            village=1
            castle=1
            cave=1
            frozen=1
            fungus=1
	    unwalkable=1
        [/movement_costs]	
	[filter]
	    [not]
	  	level=0-3
	    [/not]
	[/filter]  
     [/effect]
     [effect]
	apply_to=defense
	replace=yes
        [defense]
	    deep_water=60
            shallow_water=60
            reef=60
            swamp_water=60
            flat=60
            sand=60
            forest=50
            hills=50
            mountains=50
            village=50
            castle=50
            cave=70
            frozen=60
            fungus=50
            unwalkable=60
        [/defense]	
	[filter]
	    [not]
	  	level=0-3
	    [/not]
	[/filter]  
     [/effect]
#enddef
#define ULTIMATE_CURSED_MIRROR
# level 1-3: reflects damage but doubles it (sabbath queen, grand father - not using)
# level 4: reflects damage
     [effect]
	apply_to=attack
        name=spell_410
        description=_"cursed mirror"
	type=arcane
        [specials]
	    {WEAPON_SPECIAL_MIRROR}
        [/specials]
	range=melee
	damage=0
        number=0
        icon=attacks/cursed-mirror.png
    [/effect]  
#enddef
#define ULTIMATE_CIRCLE_OF_ELEMENTS
# spell number 411
# level 1-4: depends of how many elemental spells you have
     [effect]
	 apply_to=new_ability
	 [abilities]
	    {ABILITY_CIRCLE_OF_ELEMENTS}
	 [/abilities]
     [/effect]
#enddef
#define GIVE_SPELL ID CODE
    {VARIABLE num {CODE}}
    [switch]
	variable=num
	[case]
	    value=101
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_ENERGY_STREAM 0}
    	    [/object]
	[/case]
	[case]
	    value=102
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_FIREBALL 0}
    	    [/object]
	[/case]
	[case]
	    value=103
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_WATERBALL 0}
    	    [/object]
	[/case]
	[case]
	    value=104
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_CURE_AND_HEAL 6}
    	    [/object]
	[/case]
	[case]
	    value=105
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_STORM_ARROWS 9 3 pierce}
    	    [/object]
	[/case]
	[case]
	    value=106
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_MORTAL_CURSE 0}
    	    [/object]
	[/case]
	[case]
	    value=107
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_DARK_MARK 0}
    	    [/object]
	[/case]
	[case]
	    value=108
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_ENTANGLE 0}
    	    [/object]
	[/case]
	[case]
	    value=109
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_PLAGUED_BREATH 0}
    	    [/object]
	[/case]
	[case]
	    value=110
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_SI_YAH_KAN 4}
    	    [/object]
	[/case]
	[case]
	    value=111
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_DEFACEMENT_CURSE}
    	    [/object]
	[/case]
	[case]
	    value=112
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_SHOCK_WAVE 10}
    	    [/object]
	[/case]
	[case]
	    value=113
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_TOILS 0}
    	    [/object]
	[/case]
	[case]
	    value=114
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_CURE}
    	    [/object]
	[/case]
	[case]
	    value=115
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_FLASH}
    	    [/object]
	[/case]
	[case]
	    value=116
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_CREMATION}
    	    [/object]
	[/case]
	[case]
	    value=117
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_SMOKE_CLOUD}
    	    [/object]
	[/case]
	[case]
	    value=118
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{BASIC_ACID_SPRAY 0}
    	    [/object]
	[/case]
	[case]
	    value=201
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_FLAME_STREAM 0}
    	    [/object]
	[/case]
	[case]
	    value=202
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_FLAME_BLADE 0}
    	    [/object]
	[/case]
	[case]
	    value=203
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_WATER_SPRAY 0 0}
    	    [/object]
	[/case]
	[case]
	    value=204
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_HEAT_AURA}
    	    [/object]
	[/case]
	[case]
	    value=205
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_FIRE_MINES}
    	    [/object]
	[/case]
	[case]
	    value=206
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_ICE_PIKE 0}
    	    [/object]
	[/case]
	[case]
	    value=207
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_ICE_NEEDLES 0}
    	    [/object]
	[/case]
	[case]
	    value=208
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_RAIN_AURA}
    	    [/object]
	[/case]
	[case]
	    value=209
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_LIGHTBEAM 0}
    	    [/object]
	[/case]
	[case]
	    value=210
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_PURIFICATION 0}
    	    [/object]
	[/case]
	[case]
	    value=211
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_CUTTING_WIND 0}
    	    [/object]
	[/case]
	[case]
	    value=212
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_AIRCUTTER 0}
    	    [/object]
	[/case]
	[case]
	    value=213
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_SHADOW_WAVE 0}
    	    [/object]
	[/case]
	[case]
	    value=214
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_DARK_MARK_COMBINED}
    	    [/object]
	[/case]
	[case]
	    value=215
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_MAGIC_FETTERS_COMBINED}
    	    [/object]
	[/case]
	[case]
	    value=216
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_ANCIENT_POWER}
    	    [/object]
	[/case]
	[case]
	    value=217
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_SLEEEPING_GAS 0}
    	    [/object]
	[/case]
	[case]
	    value=218
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_SHADOW 0}
    	    [/object]
	[/case]
	[case]
	    value=219
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_FLAME_MISSILES 0}
    	    [/object]
	[/case]
	[case]
	    value=220
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_CHILL_WAVE 0}
    	    [/object]
	[/case]
	[case]
	    value=221
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_CHILL_WAVE_MELEE 0}
    	    [/object]
	[/case]
	[case]
	    value=222
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_RITUAL_MURDER 0}
    	    [/object]
	[/case]
	[case]
	    value=223
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_TURNSKIN 0 0}
    	    [/object]
	[/case]
	[case]
	    value=224
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_LIGHTBALL 0}
    	    [/object]
	[/case]
	[case]
	    value=225
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_STORM_OF_BLADES 0}
    	    [/object]
	[/case]
	[case]
	    value=226
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_POWER_STEALING}
    	    [/object]
	[/case]
	[case]
	    value=227
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_VAMPIRIC_CURSE 10}
    	    [/object]
	[/case]
	[case]
	    value=228
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_VOODOO_CURSE 0}
    	    [/object]
	[/case]
	[case]
	    value=229
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_SEPTICEMIA}
    	    [/object]
	[/case]
	[case]
	    value=230
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_ACID_SMOKE 10}
    	    [/object]
	[/case]
	[case]
	    value=231
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_BOWL_OF_SNAKE_POISON}
    	    [/object]
	[/case]
	[case]
	    value=232
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_AGILITY_OF_SNAKE}
    	    [/object]
	[/case]
	[case]
	    value=233
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_DISPELLING_STORM}
    	    [/object]
	[/case]
	[case]
	    value=234
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{AVERAGE_HELLFIRE 0}
    	    [/object]
	[/case]
	[case]
	    value=301
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_DRAGON_FLAME 0}
    	    [/object]
	[/case]
	[case]
	    value=302
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_LIGHTNING 0}
    	    [/object]
	[/case]
	[case]
	    value=303
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_FLAME_TOMB 0}
    	    [/object]
	[/case]
	[case]
	    value=304
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_ICEHAMMER 0 0}
    	    [/object]
	[/case]
	[case]
	    value=305
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_GREAT_DESTRUCTION 0}
    	    [/object]
	[/case]
	[case]
	    value=306
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_WATERWALKING}
    	    [/object]
	[/case]
	[case]
	    value=307
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_MAGICAL_SHIELD}
    	    [/object]
	[/case]
	[case]
	    value=308
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_AURA_OF_LIGHT}
    	    [/object]
	[/case]
	[case]
	    value=309
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_SUNLIGHT 0}
    	    [/object]
	[/case]
	[case]
	    value=310
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_TELEPORTATION}
    	    [/object]
	[/case]
	[case]
	    value=311
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_INTERDIMENSIONAL_STREAM_OF_FLAME 0}
    	    [/object]
	[/case]
	[case]
	    value=312
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_INTERDIMENSIONAL_FIREBALL}
    	    [/object]
	[/case]
	[case]
	    value=313
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_INTERDIMENSIONAL_WATERBALL}
    	    [/object]
	[/case]
	[case]
	    value=314
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_INTERDIMENSIONAL_WATER_SPRAY 0}
    	    [/object]
	[/case]
	[case]
	    value=315
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_SECRET_SANDSTORM 0}
    	    [/object]
	[/case]
	[case]
	    value=316
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_DARKNESS_COVER}
    	    [/object]
	[/case]
	[case]
	    value=317
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_NECROMANCY}
    	    [/object]
	[/case]
	[case]
	    value=318
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_SHADOW_DANCE 0}
    	    [/object]
	[/case]
	[case]
	    value=319
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_SMOKE_MISSILES 0}
    	    [/object]
	[/case]
	[case]
	    value=320
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_DREADFUL_WARRIOR 0}
    	    [/object]
	[/case]
	[case]
	    value=321
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_FLAME_WHIP 0}
    	    [/object]
	[/case]
	[case]
	    value=322
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_RITUAL_MURDER}
    	    [/object]
	[/case]
	[case]
	    value=323
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_INSTANT_MORTAL_CURSE 0}
    	    [/object]
	[/case]
	[case]
	    value=324
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_BURNING_LIGHT 0}
    	    [/object]
	[/case]
	[case]
	    value=325
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_SHARDS_OF_DARKNESS 0}
    	    [/object]
	[/case]
	[case]
	    value=326
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_BALANCE_CIRCLE}
    	    [/object]
	[/case]
	[case]
	    value=327
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_SHADOW_STEP}
    	    [/object]
	[/case]
	[case]
	    value=328
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_ICE_LUMP 0}
    	    [/object]
	[/case]
	[case]
	    value=329
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_TURNBIRD 0 0}
    	    [/object]
	[/case]
	[case]
	    value=330
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_ACID_CLOUD 10}
    	    [/object]
	[/case]
	[case]
	    value=331
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_SHADOW_DEMOLISHER 0}
    	    [/object]
	[/case]
	[case]
	    value=332
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_DEATH_GRIP 0}
    	    [/object]
	[/case]
	[case]
	    value=333
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_DEATH_BREATH 0}
    	    [/object]
	[/case]
	[case]
	    value=334
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_LIFE_TAKING_CURSE 0}
    	    [/object]
	[/case]
	[case]
	    value=335
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_SUMMON_SNAKES 0}
    	    [/object]
	[/case]
	[case]
	    value=336
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_BLOOD_COLLECTION 0}
    	    [/object]
	[/case]
	[case]
	    value=337
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_NEHUSHTAN}
    	    [/object]
	[/case]
	[case]
	    value=338
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_CATSKIN 0 0}
    	    [/object]
	[/case]
	[case]
	    value=339
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_DELIRIUM_TREMENS 0}
    	    [/object]
	[/case]
	[case]
	    value=340
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_BLIZZARD 0}
    	    [/object]
	[/case]
	[case]
	    value=341
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{HIGH_EARTHQUAKE 0}
    	    [/object]
	[/case]
	[case]
	    value=401
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{ULTIMATE_DISINTEGRATION}
    	    [/object]
	[/case]
	[case]
	    value=402
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{ULTIMATE_TEMPEST 0 0}
    	    [/object]
	[/case]
	[case]
	    value=403
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{ULTIMATE_NINTHWAVE}
    	    [/object]
	[/case]
	[case]
	    value=404
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{ULTIMATE_WHITE_CASTLE}
    	    [/object]
	[/case]
	[case]
	    value=405
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{ULTIMATE_NIBS_OF_PHOENIX}
    	    [/object]
	[/case]
	[case]
	    value=406
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{ULTIMATE_WORLD_OF_SHADOWS}
    	    [/object]
	[/case]
	[case]
	    value=407
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{ULTIMATE_STONE_TOMB}
    	    [/object]
	[/case]
	[case]
	    value=408
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{ULTIMATE_FACE_OF_FATE}
    	    [/object]
	[/case]
	[case]
	    value=409
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{ULTIMATE_MOONWEEL 0}
    	    [/object]
	[/case]
	[case]
	    value=410
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{ULTIMATE_CURSED_MIRROR}
    	    [/object]
	[/case]
	[case]
	    value=411
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{ULTIMATE_CIRCLE_OF_ELEMENTS}
    	    [/object]
	[/case]
	[case]
	    value=502
    	    [object]
        	silent=yes
        	duration=turn
		[filter]
	    	   id={ID}
        	[/filter]
		{SUPERB_HUGE_FIREBALL 0}
    	    [/object]
	[/case]
    [/switch]    
    {CLEAR_VARIABLE num}
#enddef
