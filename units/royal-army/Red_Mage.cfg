#textdomain wesnoth-2
[unit_type]
    id=Royal Red Mage Temp
    name= _ "Red Mage"
    race=SA_human
    gender=male,female
    num_traits=3
    image="units/royal-army/mages/red-mage/stand.png"
    {MAGENTA_IS_THE_TEAM_COLOR}
    profile="portraits/royal-army/transparent/red-mage.png"
    small_profile="portraits/royal-army/transparent/red-mage.png~FL()"
    hitpoints=42
    movement_type=civilianfoot
    movement=5
    vision=5
    experience=80
    level=2
    {ALIGNMENT_SELFISH}
    advances_to=Royal Sun Mage Temp,Royal Silver Mage Temp
    cost=40
    usage=mixed fighter
    description= _ "Profession of fire-style battlemage, popularly known as ''red mage'', older than the Academy - ancient mages have trained that profession at the Royal School of Batllemages, which was reorganized into the Alduin Academy by king Haldric II. Red mages supported the Taming of the Wild and the Founding of Wesnoth and after half of millennium their role in life of the nation hasn't diminished. As soon as they receive their licenses, they sent to the battlefields of endless wars, which the Royal Army conducts on southern, northern and eastern borders of the country. Although red mages must serve only for five years, it's too hard for them to find a job in a peace life, so usually they remain at war for a lifetime, unless they get promotion. Among all mages red mages the most trusted by wesnothian soldiers as reliable and powerful allies.

Tactical Info:

Pupil: Day type
* +5% accuracy and +1 vision range at daytime.
* -10% accuracy and -1 vision range at night.

Alignment: Selfish
* from 0 to 25% damage bonus when unit's HP from 50 to 100% of maximum.
* from 0 to 25% damage penalty when unit's HP from 50 to 0% of maximum.

Movement type: Civilian
* not good at castle and village defending.

Armor type: Human fire mage without armor
* resistant to fire magic.
* vulnerable for impact and blade damage.

Damage type: Fire
* very effective against woses and other plants.
* more effective against skeletons and frogs.
* less effective against nagas, trolls and hardy units.
* uneffective against ghosts, drakes and dragons.

Spells: 1 basic and 1 average
* fireball (basic): advanced version of ''energy stream''. Calls few balls of magic energy, which causes fire damage. Firing rate increases with unit's level. 7-4 damage at the current level.
* flaming blade (average): calls an flaming blade which is more effective on melee combat than staff. Flaming blade inflicts fire damage, which increases with unit's level. 8-2 damage at the current level.
* stream of flame (average): calls a impetuous stream of magic energy, which causes fire damage. It forestall opponent's ranged attacks and has 90% accuracy against slowed or distracted units. Power of spell increases with unit's level. 11-2 damage at the current level.
* fire mine (average): inflicts fire damage to opponents if they try to attack unit at melee combat. 8 damage at the current level.
* heat aura (average): increases cold resistance and decreases fire resistance of all adjacent units by 20%."
    die_sound={SOUND_LIST:HUMAN_DIE}
    [resistance]
	arcane=100
	fire=75
	cold=100
	impact=120
	blade=120
	pierce=100
    [/resistance]
    [abilities]
    	{FLAG_MAGE}
    [/abilities]
    [attack]
        name=spell_102
        description=_"fireball"
	icon=attacks/fireball.png
        type=fire
        range=ranged
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
        damage=7
        number=4
    [/attack]
    [attack]
        name=staff
        description=_"staff"
        icon=attacks/staff-ruby.png
        type=impact
        range=melee
        damage=6
        number=2
    [/attack]
    [recruit_anim]
	{STAND_ON_WATER}
	[if]
	    frequency=2
            start_time=-4000
            [frame]
            	image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
            	sound="royal-army/red-mage/intro.wav"
            [/frame]
	[/if]
    [/recruit_anim]
    [levelin_anim]
        start_time=-4000
	{STAND_ON_WATER}
        [frame]
	    image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
            sound="royal-army/red-mage/intro.wav"
        [/frame]
    [/levelin_anim]
    [standing_anim]
        start_time=0
	{STAND_ON_WATER}
	[if]
	    [filter]
		ability=heat_aura1
	    [/filter]
            [frame]
	    	halo="halo/red-mage/heat-aura-[1~2].png:100"
		image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
            [/frame]
	[/if]
	[else]
            [frame]
	    	image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
            [/frame]
	[/else]
    [/standing_anim]
    [defend]
        start_time=-250
	{STAND_ON_WATER}
	[if]
	    [filter]
		ability=heat_aura1
	    [/filter]
            [frame]
		image="units/royal-army/mages/red-mage/stand.png":1,"units/royal-army/mages/red-mage/stand.png":400,"units/royal-army/mages/red-mage/stand.png":1
	    	halo="halo/red-mage/heat-aura-[1~2].png:100"
            [/frame]
	[/if]
	[else]
            [frame]
            	image="units/royal-army/mages/red-mage/stand.png":1,"units/royal-army/mages/red-mage/stand.png":400,"units/royal-army/mages/red-mage/stand.png":1
            [/frame]
	[/else]       
        [if]
            hit_sound_start_time=-25
            hits=hit
            [hit_sound_frame]
                sound={SOUND_LIST:HUMAN_HIT}
            [/hit_sound_frame]
        [/if]
    [/defend]
    [draw_weapon_anim]
        [filter_attack]
            name=spell_102
        [/filter_attack]
	{STAND_ON_WATER}
	[if]
	    [filter]
		ability=heat_aura1
	    [/filter]
	    [if]
	    	frequency=4
                start_time=-1000
            	[frame]
            	    image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
            	    sound="royal-army/red-mage/attack-fireball.wav"
		    halo="halo/red-mage/heat-aura-[1~2].png:100"
		    duration=1000
            	[/frame]
	    [/if]
	    [else]
                start_time=0
       	    	[frame]
            	    image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
		    halo="halo/red-mage/heat-aura-[1~2].png:100"
            	[/frame]
	    [/else]
	[/if]
	[else]
	    [if]
	    	frequency=4
                start_time=-1000
            	[frame]
            	    image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
            	    sound="royal-army/red-mage/attack-fireball.wav"
		    duration=1000
            	[/frame]
	    [/if]
	    [else]
                start_time=0
       	    	[frame]
            	    image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
            	[/frame]
	    [/else]	
	[/else]
    [/draw_weapon_anim]
    [draw_weapon_anim]
        [filter_attack]
            name=spell_201
        [/filter_attack]
	{STAND_ON_WATER}
	[if]
	    [filter]
		ability=heat_aura1
	    [/filter]
	    [if]
	    	frequency=4
                start_time=-1000
            	[frame]
            	    image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
            	    sound="royal-army/red-mage/attack-flamestream.wav"
		    halo="halo/red-mage/heat-aura-[1~2].png:100"
		    duration=1000
            	[/frame]
	    [/if]
	    [else]
                start_time=0
       	    	[frame]
            	    image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
		    halo="halo/red-mage/heat-aura-[1~2].png:100"
            	[/frame]
	    [/else]
	[/if]
	[else]
	    [if]
	    	frequency=4
                start_time=-1000
            	[frame]
            	    image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
            	    sound="royal-army/red-mage/attack-flamestream.wav"
		    duration=1000
            	[/frame]
	    [/if]
	    [else]
                start_time=0
       	    	[frame]
            	    image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
            	[/frame]
	    [/else]	
	[/else]
    [/draw_weapon_anim]
    [draw_weapon_anim]
        [filter_attack]
	    [not]
            	name=spell_201
	    [/not]
	    [and]
		[not]
		    name=spell_102
		[/not]
	    [/and]
        [/filter_attack]
	{STAND_ON_WATER}
	[if]
	    [filter]
		ability=heat_aura1
	    [/filter]
	    [if]
	    	frequency=4
                start_time=-1000
            	[frame]
            	    image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
            	    sound="royal-army/red-mage/attack.wav"
		    halo="halo/red-mage/heat-aura-[1~2].png:100"
		    duration=1000
            	[/frame]
	    [/if]
	    [else]
                start_time=0
       	    	[frame]
             	    image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
		    halo="halo/red-mage/heat-aura-[1~2].png:100"
            	[/frame]
	    [/else]
	[/if]
	[else]
	    [if]
	    	frequency=4
                start_time=-1000
            	[frame]
            	    image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
            	    sound="royal-army/red-mage/attack.wav"
		    duration=1000
            	[/frame]
	    [/if]
	    [else]
                start_time=0
       	    	[frame]
             	    image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
            	[/frame]
	    [/else]
	[/else]	
    [/draw_weapon_anim]
    [attack_anim]
        [filter_attack]
            name=staff
        [/filter_attack]
	{STAND_ON_WATER}
	[if]
	    [filter]
		ability=heat_aura1
	    [/filter]
            [frame]
	    	halo="halo/red-mage/heat-aura-[1~2].png:100"
            [/frame]
	[/if]
	[if]
            [filter]
           	[filter_wml]
              	    [status]
                 	miner=yes
              	    [/status]
           	[/filter_wml]
            [/filter]	    
            offset=0.0

            flame_burst_1_start_time=-200
            flame_burst_2_start_time=-200
            flame_burst_3_start_time=-200
            flame_burst_4_start_time=-200
            flame_burst_5_start_time=-200

            [if]
            	direction=se,s,sw

            	[flame_burst_1_frame]
                    halo=halo/flame-burst-[1~8].png~FL(vert):50
                    halo_x,halo_y=-22,0
                    offset=1.0
            	[/flame_burst_1_frame]
            	[flame_burst_2_frame]
                    halo=halo/flame-burst-[1~8].png~FL(vert):50
                    halo_x,halo_y=-14,9
                    offset=1.0
            	[/flame_burst_2_frame]
            	[flame_burst_3_frame]
                    halo=halo/flame-burst-[1~8].png~FL(vert):50
                    halo_x,halo_y=0,12
                    offset=1.0
            	[/flame_burst_3_frame]
            	[flame_burst_4_frame]
                    halo=halo/flame-burst-[1~8].png~FL(vert):50
                    halo_x,halo_y=14,9
                    offset=1.0
            	[/flame_burst_4_frame]
            	[flame_burst_5_frame]
                    halo=halo/flame-burst-[1~8].png~FL(vert):50
                    halo_x,halo_y=22,0
                    offset=1.0
            	[/flame_burst_5_frame]
            [/if]
            [else]
            	direction=ne,n,nw

            	[flame_burst_1_frame]
                    halo=halo/flame-burst-[1~8].png:50
                    halo_x,halo_y=-22,0
                    offset=1.0
            	[/flame_burst_1_frame]
            	[flame_burst_2_frame]
                    halo=halo/flame-burst-[1~8].png:50
                    halo_x,halo_y=-14,9
                    offset=1.0
            	[/flame_burst_2_frame]
            	[flame_burst_3_frame]
                    halo=halo/flame-burst-[1~8].png:50
                    halo_x,halo_y=0,12
                    offset=1.0
            	[/flame_burst_3_frame]
            	[flame_burst_4_frame]
                    halo=halo/flame-burst-[1~8].png:50
                    halo_x,halo_y=14,9
                    offset=1.0
            	[/flame_burst_4_frame]
            	[flame_burst_5_frame]
                    halo=halo/flame-burst-[1~8].png:50
                    halo_x,halo_y=22,0
                    offset=1.0
            	[/flame_burst_5_frame]
            [/else]

            {SOUND:HIT_AND_MISS fire.wav fire.wav -300}
	[/if]
	[else]
            start_time=-250
            offset=0.0~0.5:250,0.5~0.0:250
            {SOUND:HIT_AND_MISS staff.ogg staff-miss.ogg -125}
	[/else]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=spell_202
        [/filter_attack]
	{STAND_ON_WATER}
	[if]
	    [filter]
		ability=heat_aura1
	    [/filter]
            [frame]
	    	halo="halo/red-mage/heat-aura-[1~2].png:100"
            [/frame]
	[/if]
        start_time=-250
        offset=0.0~0.5:250,0.5~0.0:250
        {SOUND:HIT_AND_MISS {SOUND_LIST:SWORD_SWISH} {SOUND_LIST:MISS} -75}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=spell_102
        [/filter_attack]
	{STAND_ON_WATER}
	[if]
	    [filter]
		ability=heat_aura1
	    [/filter]
            [frame]
	    	halo="halo/red-mage/heat-aura-[1~2].png:100"
            [/frame]
	[/if]
	{MISSILE_FRAME_FIREBALL_XY 11 -20}
        {SOUND:HIT_AND_MISS fire.wav fire.wav -275}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=spell_201
        [/filter_attack]
	{STAND_ON_WATER}
	[if]
	    [filter]
		ability=heat_aura1
	    [/filter]
            [frame]
	    	halo="halo/red-mage/heat-aura-[1~2].png:100"
            [/frame]
	[/if]
        offset=0.0

        flame_burst_1_start_time=-400
        flame_burst_2_start_time=-350
        flame_burst_3_start_time=-300
        flame_burst_4_start_time=-250
        flame_burst_5_start_time=-200

        [if]
            direction=se,s,sw

            [flame_burst_1_frame]
                halo=halo/flame-burst-[1~8].png~FL(vert):50
                halo_x,halo_y=-22,0
                offset=1.0
            [/flame_burst_1_frame]
            [flame_burst_2_frame]
                halo=halo/flame-burst-[1~8].png~FL(vert):50
                halo_x,halo_y=-14,9
                offset=1.0
            [/flame_burst_2_frame]
            [flame_burst_3_frame]
                halo=halo/flame-burst-[1~8].png~FL(vert):50
                halo_x,halo_y=0,12
                offset=1.0
            [/flame_burst_3_frame]
            [flame_burst_4_frame]
                halo=halo/flame-burst-[1~8].png~FL(vert):50
                halo_x,halo_y=14,9
                offset=1.0
            [/flame_burst_4_frame]
            [flame_burst_5_frame]
                halo=halo/flame-burst-[1~8].png~FL(vert):50
                halo_x,halo_y=22,0
                offset=1.0
            [/flame_burst_5_frame]
        [/if]
        [else]
            direction=ne,n,nw

            [flame_burst_1_frame]
                halo=halo/flame-burst-[1~8].png:50
                halo_x,halo_y=-22,0
                offset=1.0
            [/flame_burst_1_frame]
            [flame_burst_2_frame]
                halo=halo/flame-burst-[1~8].png:50
                halo_x,halo_y=-14,9
                offset=1.0
            [/flame_burst_2_frame]
            [flame_burst_3_frame]
                halo=halo/flame-burst-[1~8].png:50
                halo_x,halo_y=0,12
                offset=1.0
            [/flame_burst_3_frame]
            [flame_burst_4_frame]
                halo=halo/flame-burst-[1~8].png:50
                halo_x,halo_y=14,9
                offset=1.0
            [/flame_burst_4_frame]
            [flame_burst_5_frame]
                halo=halo/flame-burst-[1~8].png:50
                halo_x,halo_y=22,0
                offset=1.0
            [/flame_burst_5_frame]
        [/else]

        {SOUND:HIT_AND_MISS fire.wav fire.wav -300}
    [/attack_anim]
    [victory_anim]
        start_time=-2000
	{STAND_ON_WATER}
	[if]
	    [filter]
		ability=heat_aura1
	    [/filter]
            [frame]
	    	halo="halo/red-mage/heat-aura-[1~2].png:100"
		image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
            	sound="royal-army/red-mage/kill.wav"
	    	duration=2000
            [/frame]
	[/if]
	[else]
            [frame]
            	image="units/royal-army/mages/red-mage/stand-[1~7].png:100"
            	sound="royal-army/red-mage/kill.wav"
	    	duration=2000
            [/frame]
	[/else]
    [/victory_anim]
    [female]
        name= _ "female^Red Sorceress"
        gender=female
        ignore_race_traits=yes
        {DAY_PUPIL}
	{TRAIT_WEAK}
	{TRAIT_BEAUTIFUL}
	{TRAIT_QUICK}
	{TRAIT_INTELLIGENT}
        num_traits=3
        {ALIGNMENT_SELFISH}
        image="units/royal-army/mages/red-mage/female-stand.png"
        die_sound={SOUND_LIST:HUMAN_FEMALE_DIE}
        profile="portraits/royal-army/transparent/red-mage+female.png"
    	small_profile="portraits/royal-army/transparent/red-mage+female.png~FL()"
    	[attack]
            name=spell_102
            description=_"fireball"
	    icon=attacks/fireball.png
            type=fire
            range=ranged
            [specials]
            	{WEAPON_SPECIAL_MAGICAL}
            [/specials]
            damage=7
            number=4
    	[/attack]
        [attack]
            name=staff
            description=_"staff"
            icon=attacks/staff-ruby.png
            type=impact
            range=melee
            damage=4
            number=3
        [/attack]
    	[standing_anim]
            start_time=0
	    {STAND_ON_WATER}
	    [if]
	    	[filter]
		    ability=heat_aura1
	    	[/filter]
            	[frame]
	    	    halo="halo/red-mage/heat-aura+female-[1~2].png:100"
		    image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
            	[/frame]
	    [/if]
	    [else]
            	[frame]
	    	    image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
            	[/frame]
	    [/else]
    	[/standing_anim]
    	[recruit_anim]
	    {STAND_ON_WATER}
	    [if]
	        frequency=2
	        start_time=-3000
            	[frame]
		    image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
             	    sound="royal-army/red-mage/female-intro.wav"
            	[/frame]
	    [/if]
    	[/recruit_anim]
    	[levelin_anim]
	    {STAND_ON_WATER}
            start_time=-3000
            [frame]
            	image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
            	sound="royal-army/red-mage/female-intro.wav"
	    	halo="halo/red-mage/heat-aura+female-[1~2].png:100"
	    	duration=3000
            [/frame]  
    	[/levelin_anim]
    	[defend]
            start_time=-250
	    {STAND_ON_WATER}
	    [if]
	    	[filter]
		    ability=heat_aura1
	    	[/filter]
            	[frame]
		    image="units/royal-army/mages/red-mage/female-stand.png":1,"units/royal-army/mages/red-mage/female-stand.png":400,"units/royal-army/mages/red-mage/female-stand.png":1
	    	    halo="halo/red-mage/heat-aura+female-[1~2].png:100"
            	[/frame]
	    [/if]
	    [else]
            	[frame]
            	    image="units/royal-army/mages/red-mage/female-stand.png":1,"units/royal-army/mages/red-mage/female-stand.png":400,"units/royal-army/mages/red-mage/female-stand.png":1
            	[/frame]
	    [/else]       
            [if]
            	hit_sound_start_time=-25
            	hits=hit
            	[hit_sound_frame]
                     sound={SOUND_LIST:HUMAN_FEMALE_HIT}
            	[/hit_sound_frame]
             [/if]
    	[/defend]
    	[draw_weapon_anim]
            [filter_attack]
            	name=spell_102
            [/filter_attack]
	    {STAND_ON_WATER}
	    [if]
	    	[filter]
		    ability=heat_aura1
	    	[/filter]
	    	[if]
	    	    frequency=4
                    start_time=-1000
            	    [frame]
            	    	image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
            	    	sound="royal-army/red-mage/female-attack-fireball.wav"
		    	halo="halo/red-mage/heat-aura+female-[1~2].png:100"
		    	duration=1000
            	    [/frame]
	    	[/if]
	    	[else]
                    start_time=0
       	    	    [frame]
            	    	image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
		    	halo="halo/red-mage/heat-aura+female-[1~2].png:100"
            	    [/frame]
	    	[/else]
	    [/if]
	    [else]
	    	[if]
	    	    frequency=4
                    start_time=-1000
            	    [frame]
            	    	image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
            	    	sound="royal-army/red-mage/female-attack-fireball.wav"
		    	duration=1000
            	    [/frame]
	    	[/if]
	    	[else]
                    start_time=0
       	    	    [frame]
            	    	image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
             	    [/frame]
	    	[/else]	
	    [/else]
    	[/draw_weapon_anim]
    	[draw_weapon_anim]
            [filter_attack]
            	name=spell_201
            [/filter_attack]
	    {STAND_ON_WATER}
	    [if]
	    	[filter]
		    ability=heat_aura1
	    	[/filter]
	    	[if]
	    	    frequency=4
                    start_time=-3000
            	    [frame]
            	    	image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
            	    	sound="royal-army/red-mage/female-attack-flamestream.wav"
		    	halo="halo/red-mage/heat-aura+female-[1~2].png:100"
		    	duration=3000
            	    [/frame]
	    	[/if]
	    	[else]
                    start_time=0
       	    	    [frame]
            	    	image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
		    	halo="halo/red-mage/heat-aura+female-[1~2].png:100"
            	    [/frame]
	    	[/else]
	    [/if]
	    [else]
	    	[if]
	    	    frequency=4
                    start_time=-3000
            	    [frame]
            	    	image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
            	    	sound="royal-army/red-mage/female-attack-flamestream.wav"
		    	duration=3000
            	    [/frame]
	    	[/if]
	    	[else]
                    start_time=0
       	    	    [frame]
            	    	image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
            	    [/frame]
	    	[/else]	
	    [/else]
    	[/draw_weapon_anim]
    	[draw_weapon_anim]
            [filter_attack]
	    	[not]
            	    name=spell_201
	    	[/not]
	    	[and]
		    [not]
		    	name=spell_102
		    [/not]
	    	[/and]
            [/filter_attack]
	    {STAND_ON_WATER}
	    [if]
	    	[filter]
		    ability=heat_aura1
	        [/filter]
	    	[if]
	    	    frequency=4
                    start_time=-1000
            	    [frame]
            	    	image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
            	    	sound="royal-army/red-mage/female-attack.wav"
		    	halo="halo/red-mage/heat-aura+female-[1~2].png:100"
		    	duration=1000
            	    [/frame]
	    	[/if]
	    	[else]
                    start_time=0
       	    	    [frame]
             	    	image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
		    	halo="halo/red-mage/heat-aura+female-[1~2].png:100"
            	    [/frame]
	    	[/else]
	    [/if]
	    [else]
	    	[if]
	    	    frequency=4
                    start_time=-1000
            	    [frame]
            	    	image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
            	    	sound="royal-army/red-mage/female-attack.wav"
		    	duration=1000
            	    [/frame]
	    	[/if]
	    	[else]
                    start_time=0
       	    	    [frame]
             	    	image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
            	    [/frame]
	    	[/else]
	    [/else]	
    	[/draw_weapon_anim]
    	[attack_anim]
            [filter_attack]
            	name=staff
            [/filter_attack]
	    {STAND_ON_WATER}
	    [if]
	    	[filter]
		    ability=heat_aura1
	    	[/filter]
            	[frame]
	    	    halo="halo/red-mage/heat-aura+female-[1~2].png:100"
            	[/frame]
	    [/if]
	    [if]
            	[filter]
           	    [filter_wml]
              	    	[status]
                 	    miner=yes
              	    	[/status]
           	    [/filter_wml]
            	[/filter]		 
            	offset=0.0

            	flame_burst_1_start_time=-200
            	flame_burst_2_start_time=-200
            	flame_burst_3_start_time=-200
            	flame_burst_4_start_time=-200
            	flame_burst_5_start_time=-200

            	[if]
            	    direction=se,s,sw

            	    [flame_burst_1_frame]
                    	halo=halo/flame-burst-[1~8].png~FL(vert):50
                    	halo_x,halo_y=-22,0
                    	offset=1.0
            	    [/flame_burst_1_frame]
            	    [flame_burst_2_frame]
                    	halo=halo/flame-burst-[1~8].png~FL(vert):50
                    	halo_x,halo_y=-14,9
                    	offset=1.0
            	    [/flame_burst_2_frame]
            	    [flame_burst_3_frame]
                    	halo=halo/flame-burst-[1~8].png~FL(vert):50
                    	halo_x,halo_y=0,12
                    	offset=1.0
            	    [/flame_burst_3_frame]
            	    [flame_burst_4_frame]
                    	halo=halo/flame-burst-[1~8].png~FL(vert):50
                    	halo_x,halo_y=14,9
                    	offset=1.0
            	    [/flame_burst_4_frame]
            	    [flame_burst_5_frame]
                    	halo=halo/flame-burst-[1~8].png~FL(vert):50
                    	halo_x,halo_y=22,0
                    	offset=1.0
            	    [/flame_burst_5_frame]
            	[/if]
            	[else]
            	    direction=ne,n,nw

            	    [flame_burst_1_frame]
                    	halo=halo/flame-burst-[1~8].png:50
                    	halo_x,halo_y=-22,0
                    	offset=1.0
            	    [/flame_burst_1_frame]
            	    [flame_burst_2_frame]
                    	halo=halo/flame-burst-[1~8].png:50
                    	halo_x,halo_y=-14,9
                    	offset=1.0
            	    [/flame_burst_2_frame]
            	    [flame_burst_3_frame]
                    	halo=halo/flame-burst-[1~8].png:50
                    	halo_x,halo_y=0,12
                    	offset=1.0
            	    [/flame_burst_3_frame]
            	    [flame_burst_4_frame]
                    	halo=halo/flame-burst-[1~8].png:50
                    	halo_x,halo_y=14,9
                    	offset=1.0
            	    [/flame_burst_4_frame]
            	    [flame_burst_5_frame]
                    	halo=halo/flame-burst-[1~8].png:50
                    	halo_x,halo_y=22,0
                    	offset=1.0
            	    [/flame_burst_5_frame]
            	[/else]

            	{SOUND:HIT_AND_MISS fire.wav fire.wav -300}
	    [/if]
	    [else]
            	start_time=-250
            	offset=0.0~0.5:250,0.5~0.0:250
            	{SOUND:HIT_AND_MISS staff.ogg staff-miss.ogg -125}
	    [/else]
    	[/attack_anim]
    	[attack_anim]
            [filter_attack]
            	name=spell_202
            [/filter_attack]
	    {STAND_ON_WATER}
	    [if]
	    	[filter]
		    ability=heat_aura1
	    	[/filter]
            	[frame]
	    	    halo="halo/red-mage/heat-aura+female-[1~2].png:100"
            	[/frame]
	    [/if]
            start_time=-250
            offset=0.0~0.5:250,0.5~0.0:250
            {SOUND:HIT_AND_MISS {SOUND_LIST:SWORD_SWISH} {SOUND_LIST:MISS} -75}
    	[/attack_anim]
    	[attack_anim]
            [filter_attack]
            	name=spell_102
            [/filter_attack]
	    {STAND_ON_WATER}
	    [if]
	    	[filter]
		    ability=heat_aura1
	    	[/filter]
            	[frame]
	    	    halo="halo/red-mage/heat-aura+female-[1~2].png:100"
            	[/frame]
	    [/if]
	    {MISSILE_FRAME_FIREBALL_XY 11 -20}
            {SOUND:HIT_AND_MISS fire.wav fire.wav -275}
    	[/attack_anim]
    	[attack_anim]
            [filter_attack]
            	name=spell_201
            [/filter_attack]
	    {STAND_ON_WATER}
	    [if]
	    	[filter]
		    ability=heat_aura1
	    	[/filter]
            	[frame]
	    	    halo="halo/red-mage/heat-aura+female-[1~2].png:100"
            	[/frame]
	    [/if]
            offset=0.0

            flame_burst_1_start_time=-400
            flame_burst_2_start_time=-350
            flame_burst_3_start_time=-300
            flame_burst_4_start_time=-250
            flame_burst_5_start_time=-200

            [if]
            	direction=se,s,sw

            	[flame_burst_1_frame]
                    halo=halo/flame-burst-[1~8].png~FL(vert):50
                    halo_x,halo_y=-22,0
                    offset=1.0
            	[/flame_burst_1_frame]
            	[flame_burst_2_frame]
                    halo=halo/flame-burst-[1~8].png~FL(vert):50
                    halo_x,halo_y=-14,9
                    offset=1.0
            	[/flame_burst_2_frame]
            	[flame_burst_3_frame]
                    halo=halo/flame-burst-[1~8].png~FL(vert):50
                    halo_x,halo_y=0,12
                    offset=1.0
            	[/flame_burst_3_frame]
            	[flame_burst_4_frame]
                    halo=halo/flame-burst-[1~8].png~FL(vert):50
                    halo_x,halo_y=14,9
                    offset=1.0
            	[/flame_burst_4_frame]
            	[flame_burst_5_frame]
                    halo=halo/flame-burst-[1~8].png~FL(vert):50
                    halo_x,halo_y=22,0
                    offset=1.0
            	[/flame_burst_5_frame]
            [/if]
            [else]
            	direction=ne,n,nw

            	[flame_burst_1_frame]
                    halo=halo/flame-burst-[1~8].png:50
                    halo_x,halo_y=-22,0
                    offset=1.0
            	[/flame_burst_1_frame]
            	[flame_burst_2_frame]
                    halo=halo/flame-burst-[1~8].png:50
                    halo_x,halo_y=-14,9
                    offset=1.0
            	[/flame_burst_2_frame]
            	[flame_burst_3_frame]
                    halo=halo/flame-burst-[1~8].png:50
                    halo_x,halo_y=0,12
                    offset=1.0
            	[/flame_burst_3_frame]
            	[flame_burst_4_frame]
                    halo=halo/flame-burst-[1~8].png:50
                    halo_x,halo_y=14,9
                    offset=1.0
            	[/flame_burst_4_frame]
            	[flame_burst_5_frame]
                    halo=halo/flame-burst-[1~8].png:50
                    halo_x,halo_y=22,0
                    offset=1.0
            	[/flame_burst_5_frame]
            [/else]

            {SOUND:HIT_AND_MISS fire.wav fire.wav -300}
    	[/attack_anim]
    	[victory_anim]
            start_time=-2000
	    {STAND_ON_WATER}
	    [if]
	    	[filter]
		    ability=heat_aura1
	    	[/filter]
            	[frame]
	    	    halo="halo/red-mage/heat-aura+female-[1~2].png:100"
		    image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
		    sound="royal-army/red-mage/female-kill.wav"
	    	    duration=2000
            	[/frame]
	    [/if]
	    [else]
            	[frame]
            	    image="units/royal-army/mages/red-mage/female-stand-[1~7].png:100"
            	    sound="royal-army/red-mage/female-kill.wav"
	    	    duration=2000
            	[/frame]
	    [/else]
    	[/victory_anim]
    [/female]
[/unit_type]

[unit_type]
    id=Royal Red Mage Fake
    [base_unit]
        id=Royal Red Mage Temp
    [/base_unit]
    hide_help=true
    do_not_list=yes
    advances_to=null
    [advancement]
        id=Royal Red Mage Flamestream
        description= _ "Learn ''Stream of Flame'' spell
which inflicts (1+5*L)-2 fire damage
and can be upgraded to ''Dragon Flame''
when unit reach 3rd level"
	image=spellbook/flame-stream.png
        {AVERAGE_FLAME_STREAM 0}
	[effect]
	    apply_to=type
	    name=Royal Red Mage
	[/effect]  
    [/advancement]
    [advancement]
        id=Royal Red Mage Flameblade
        description= _ "Learn ''Flaming Blade'' spell
which inflicts 4*L-2 fire damage
and replaces staff attack"
	image=spellbook/flaming-blade.png
        [effect]
           apply_to=remove_attacks
	   name=staff
        [/effect]
        {AVERAGE_FLAME_BLADE 0}
	[effect]
	    apply_to=type
	    name=Royal Red Mage
	[/effect]  
    [/advancement]
    [advancement]
        id=Royal Red Mage Firemines
        description= _ "Learn ''Fire Mine'' spell
which inflicts 4*L fire damage
to any opponents who trying to attack unit
and allows unit to learn ''Disintegration''
when it reach 4th level"
	image=spellbook/fire-mine.png
	{AVERAGE_FIRE_MINES}
	[effect]
	    apply_to=type
	    name=Royal Red Mage
	[/effect]  
    [/advancement]
    [advancement]
        id=Royal Red Mage Heataura
        description= _ "Learn ''Heat Aura'' spell
which increases cold resistance and
decreases fire resistance of adjacent units
and also allows unit to learn ''Nibs of Phoenix''
when it reach 4th level"
	image=spellbook/heat-aura.png
	{AVERAGE_HEAT_AURA}
	[effect]
	    apply_to=type
	    name=Royal Red Mage
	[/effect]  
    [/advancement]
[/unit_type]
[unit_type]
    id=Royal Red Mage
    [base_unit]
        id=Royal Red Mage Temp
    [/base_unit]
    hide_help=true
    do_not_list=yes
[/unit_type]
